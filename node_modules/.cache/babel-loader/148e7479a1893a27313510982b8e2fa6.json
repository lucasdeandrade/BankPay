{"ast":null,"code":"/**\n * Bundle of @devexpress/dx-react-chart\n * Generated: 2022-07-12\n * Version: 3.0.4\n * License: https://js.devexpress.com/Licensing\n */\nimport { createElement, PureComponent, createRef, isValidElement, Fragment } from 'react';\nimport { Plugin, Getter, Template, TemplatePlaceholder, TemplateConnector, Sizer, createStateHelper, Action, withComponents, PluginHost, clearSelection } from '@devexpress/dx-react-core';\nimport { defaultDomains, buildScales, scaleSeriesPoints, TOP, LEFT, RIGHT, BOTTOM, isReadyToRenderSeries, bBoxes, getRanges, getLegendItems, findSeriesByName, ARGUMENT_DOMAIN, getValueDomainName, addSeries, extendDomains, addDomain, getStackedDomains, getStackedSeries, easeOutCubic, buildAnimation, isScalesChanged, HOVERED, SELECTED, isCoordinatesChanged, getPathStart, processAreaAnimation, dRotateArea, dArea, getAreaPointTransformer, createAreaHitTester, dBar, getVisibility, adjustBarSize, isValuesChanged, getPointStart, processBarAnimation, getBarPointTransformer, createBarHitTester, processLineAnimation, dRotateLine, dLine, getLinePointTransformer, createLineHitTester, dPie, getDelay, getPieStart, processPieAnimation, getPiePointTransformer, createPieHitTester, dSymbol, processPointAnimation, getScatterPointTransformer, createScatterHitTester, dRotateSpline, dSpline, createSplineHitTester, isValidPosition, getTickCoordinates, tickCoordinatesGetter, gridCoordinatesGetter, getRotatedPosition, processHandleTooltip, getParameters, createReference, getOffset as getOffset$1, getEventCoords, isKeyPressed, setCursorType, isMultiTouch, getDeltaForTouches, getRect, getViewport, getWheelDelta, detachEvents, attachEvents, adjustLayout, buildEventHandlers, processPointerMove, changeSeriesState } from '@devexpress/dx-chart-core';\nimport { stackOffsetDiverging, stackOrderNone } from 'd3-shape';\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\n\n/* global Reflect, Promise */\n\nvar extendStatics = function (d, b) {\n  extendStatics = Object.setPrototypeOf || {\n    __proto__: []\n  } instanceof Array && function (d, b) {\n    d.__proto__ = b;\n  } || function (d, b) {\n    for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n  };\n\n  return extendStatics(d, b);\n};\n\nfunction __extends(d, b) {\n  if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n  extendStatics(d, b);\n\n  function __() {\n    this.constructor = d;\n  }\n\n  d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n}\n\nvar __assign = function () {\n  __assign = Object.assign || function __assign(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nfunction __rest(s, e) {\n  var t = {};\n\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n}\n\nfunction __read(o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o),\n      r,\n      ar = [],\n      e;\n\n  try {\n    while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n  } catch (error) {\n    e = {\n      error: error\n    };\n  } finally {\n    try {\n      if (r && !r.done && (m = i[\"return\"])) m.call(i);\n    } finally {\n      if (e) throw e.error;\n    }\n  }\n\n  return ar;\n}\n/** @deprecated */\n\n\nfunction __spread() {\n  for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));\n\n  return ar;\n}\n\nvar series = [];\n\nvar BasicData = function (_a) {\n  var data = _a.data,\n      rotated = _a.rotated;\n  return createElement(Plugin, {\n    name: \"Basis\"\n  }, createElement(Getter, {\n    name: \"data\",\n    value: data\n  }), createElement(Getter, {\n    name: \"domains\",\n    value: defaultDomains\n  }), createElement(Getter, {\n    name: \"series\",\n    value: series\n  }), createElement(Getter, {\n    name: \"rotated\",\n    value: rotated\n  }));\n};\n\nvar getScales = function (_a) {\n  var domains = _a.domains,\n      ranges = _a.ranges;\n  return buildScales(domains, ranges);\n};\n\nvar getSeries = function (_a) {\n  var series = _a.series,\n      scales = _a.scales,\n      rotated = _a.rotated;\n  return scaleSeriesPoints(series, scales, rotated);\n};\n\nvar ChartCore = /*#__PURE__*/function (_super) {\n  __extends(ChartCore, _super);\n\n  function ChartCore() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  ChartCore.prototype.render = function () {\n    return createElement(Plugin, null, createElement(Getter, {\n      name: \"scales\",\n      computed: getScales\n    }), createElement(Getter, {\n      name: \"series\",\n      computed: getSeries\n    }));\n  };\n\n  return ChartCore;\n}(PureComponent);\n\nvar AxesLayout = /*#__PURE__*/function (_super) {\n  __extends(AxesLayout, _super);\n\n  function AxesLayout() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.ref = createRef();\n    return _this;\n  }\n\n  AxesLayout.prototype.render = function () {\n    return createElement(Plugin, null, createElement(Getter, {\n      name: \"centerDivRef\",\n      value: this.ref\n    }), createElement(Template, {\n      name: \"canvas\"\n    }, createElement(\"div\", {\n      id: \"center-center\",\n      ref: this.ref,\n      style: {\n        display: 'flex',\n        flexDirection: 'column',\n        flexGrow: 1\n      }\n    }, createElement(\"div\", {\n      id: TOP + \"-axis-container\",\n      style: {\n        display: 'flex',\n        flexDirection: 'row'\n      }\n    }, createElement(TemplatePlaceholder, {\n      name: TOP + \"-\" + LEFT + \"-axis\"\n    }), createElement(TemplatePlaceholder, {\n      name: TOP + \"-axis\"\n    }), createElement(TemplatePlaceholder, {\n      name: TOP + \"-\" + RIGHT + \"-axis\"\n    })), createElement(\"div\", {\n      id: \"center-axis-container\",\n      style: {\n        display: 'flex',\n        flexDirection: 'row',\n        flexGrow: 1\n      }\n    }, createElement(TemplatePlaceholder, {\n      name: LEFT + \"-axis\"\n    }), createElement(TemplatePlaceholder, null), createElement(TemplatePlaceholder, {\n      name: RIGHT + \"-axis\"\n    })), createElement(\"div\", {\n      id: BOTTOM + \"-axis-container\",\n      style: {\n        display: 'flex',\n        flexDirection: 'row'\n      }\n    }, createElement(TemplatePlaceholder, {\n      name: BOTTOM + \"-\" + LEFT + \"-axis\"\n    }), createElement(TemplatePlaceholder, {\n      name: BOTTOM + \"-axis\"\n    }), createElement(TemplatePlaceholder, {\n      name: BOTTOM + \"-\" + RIGHT + \"-axis\"\n    })))));\n  };\n\n  return AxesLayout;\n}(PureComponent);\n\nvar SpaceFillingRects = /*#__PURE__*/function (_super) {\n  __extends(SpaceFillingRects, _super);\n\n  function SpaceFillingRects() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  SpaceFillingRects.prototype.render = function () {\n    var placeholders = this.props.placeholders;\n    return createElement(Plugin, {\n      name: \"SpaceFillingRects\"\n    }, placeholders.map(function (name) {\n      return createElement(Template, {\n        name: name,\n        key: name\n      }, createElement(TemplateConnector, null, function (_a) {\n        var layouts = _a.layouts;\n        var key = name.slice(name.indexOf('-') + 1);\n        var width = Object.keys(layouts).reduce(function (prev, cur) {\n          if (cur.includes(key)) {\n            return prev + layouts[cur].width;\n          }\n\n          return prev;\n        }, 0);\n        return createElement(\"div\", {\n          id: name,\n          style: {\n            width: width\n          }\n        });\n      }));\n    }));\n  };\n\n  return SpaceFillingRects;\n}(PureComponent);\n\nvar ControllerComponent = /*#__PURE__*/function (_super) {\n  __extends(ControllerComponent, _super);\n\n  function ControllerComponent() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.isPreviousDataEmpty = true;\n\n    _this.readyToRenderSeriesComputed = function (_a) {\n      var layouts = _a.layouts,\n          centerDivRef = _a.centerDivRef,\n          data = _a.data,\n          axesExist = _a.axesExist;\n      var isPreviousDataEmpty = _this.isPreviousDataEmpty;\n      _this.isPreviousDataEmpty = !data.length;\n      return isReadyToRenderSeries(layouts, centerDivRef, isPreviousDataEmpty, !!axesExist);\n    };\n\n    return _this;\n  }\n\n  ControllerComponent.prototype.render = function () {\n    return createElement(Plugin, {\n      name: \"ControllerComponent\"\n    }, createElement(Getter, {\n      name: \"readyToRenderSeries\",\n      computed: this.readyToRenderSeriesComputed\n    }));\n  };\n\n  return ControllerComponent;\n}(PureComponent);\n\nvar EXTRA_PIXELS = 2;\n\nvar ClipPath = /*#__PURE__*/function (_super) {\n  __extends(ClipPath, _super);\n\n  function ClipPath() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  ClipPath.prototype.render = function () {\n    var _a = this.props,\n        id = _a.id,\n        width = _a.width,\n        height = _a.height;\n    return createElement(\"defs\", null, createElement(\"clipPath\", {\n      id: id\n    }, createElement(\"rect\", {\n      x: -EXTRA_PIXELS / 2,\n      y: -EXTRA_PIXELS / 2,\n      width: width + EXTRA_PIXELS,\n      height: height + EXTRA_PIXELS\n    })));\n  };\n\n  return ClipPath;\n}(PureComponent); // It is located in a separate file only for testing purpose -\n// it should actually be placed next to PaneLayout.\n\n\nvar UpdatableSizer = /*#__PURE__*/function (_super) {\n  __extends(UpdatableSizer, _super);\n\n  function UpdatableSizer() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.ref = createRef();\n    return _this;\n  }\n\n  UpdatableSizer.prototype.componentDidUpdate = function () {\n    this.props.onSizeChange(this.ref.current.getSize());\n  };\n\n  UpdatableSizer.prototype.render = function () {\n    return createElement(Sizer, __assign({\n      ref: this.ref\n    }, this.props));\n  };\n\n  return UpdatableSizer;\n}(PureComponent);\n\nvar DIV_STYLE = {\n  flex: 1,\n  zIndex: 1,\n  position: 'relative',\n  width: '100%'\n};\nvar SVG_STYLE = {\n  position: 'absolute',\n  left: 0,\n  top: 0,\n  overflow: 'visible'\n};\n\nvar SizerContainer = function (_a) {\n  var children = _a.children,\n      forwardedRef = _a.forwardedRef;\n  return createElement(\"div\", {\n    ref: forwardedRef,\n    style: DIV_STYLE\n  }, children);\n};\n\nvar numDefs = 0;\n\nvar getUniqueId = function () {\n  numDefs += 1;\n  return numDefs;\n};\n\nvar PaneLayout = /*#__PURE__*/function (_super) {\n  __extends(PaneLayout, _super);\n\n  function PaneLayout() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.ref = createRef();\n    _this.clipPathId = \"clip_path_\" + getUniqueId();\n    return _this;\n  }\n\n  PaneLayout.prototype.render = function () {\n    var _this = this;\n\n    return createElement(Plugin, {\n      name: \"PaneLayout\"\n    }, createElement(Getter, {\n      name: \"rootRef\",\n      value: this.ref\n    }), createElement(Getter, {\n      name: \"clipPathId\",\n      value: this.clipPathId\n    }), createElement(Template, {\n      name: \"canvas\"\n    }, function (params) {\n      return createElement(TemplateConnector, null, function (_a, _b) {\n        var layouts = _a.layouts;\n        var changeBBox = _b.changeBBox;\n        var _c = layouts.pane,\n            width = _c.width,\n            height = _c.height;\n        return createElement(UpdatableSizer, {\n          containerComponent: SizerContainer,\n          onSizeChange: function (size) {\n            return changeBBox({\n              placeholder: 'pane',\n              bBox: size\n            });\n          }\n        }, createElement(\"svg\", __assign({\n          ref: _this.ref\n        }, params, {\n          width: width,\n          height: height,\n          style: SVG_STYLE\n        }), createElement(ClipPath, {\n          id: _this.clipPathId,\n          width: width,\n          height: height\n        }), createElement(TemplatePlaceholder, {\n          name: \"series\"\n        })));\n      });\n    }));\n  };\n\n  return PaneLayout;\n}(PureComponent);\n\nvar doGetRanges = function (_a) {\n  var layouts = _a.layouts,\n      rotated = _a.rotated;\n  return getRanges(layouts.pane, rotated);\n};\n\nvar LayoutManager = /*#__PURE__*/function (_super) {\n  __extends(LayoutManager, _super);\n\n  function LayoutManager(props) {\n    var _this = _super.call(this, props) || this;\n\n    _this.state = {\n      bBoxes: {\n        pane: {\n          width: 0,\n          height: 0\n        }\n      }\n    };\n    var stateHelper = createStateHelper(_this);\n    _this.changeBBox = stateHelper.applyFieldReducer.bind(stateHelper, 'bBoxes', bBoxes);\n    return _this;\n  }\n\n  LayoutManager.prototype.render = function () {\n    var _a = this.props,\n        width = _a.width,\n        height = _a.height,\n        Root = _a.rootComponent,\n        restProps = __rest(_a, [\"width\", \"height\", \"rootComponent\"]);\n\n    var stateBBoxes = this.state.bBoxes;\n    return createElement(Plugin, null, createElement(Getter, {\n      name: \"layouts\",\n      value: stateBBoxes\n    }), createElement(Getter, {\n      name: \"ranges\",\n      computed: doGetRanges\n    }), createElement(Action, {\n      name: \"changeBBox\",\n      action: this.changeBBox\n    }), createElement(Template, {\n      name: \"root\"\n    }, createElement(Root, __assign({\n      width: width,\n      height: height\n    }, restProps), createElement(TemplatePlaceholder, {\n      name: \"canvas\"\n    }))));\n  };\n\n  LayoutManager.defaultProps = {\n    width: 0\n  };\n  return LayoutManager;\n}(PureComponent);\n\nvar ComponentLayout = function () {\n  return createElement(Plugin, {\n    name: \"ComponentLayout\"\n  }, createElement(Template, {\n    name: \"canvas\"\n  }, createElement(\"div\", {\n    id: TOP + \"-container\",\n    style: {\n      display: 'flex',\n      flexDirection: 'row'\n    }\n  }, createElement(TemplatePlaceholder, {\n    name: TOP + \"-\" + LEFT\n  }), createElement(TemplatePlaceholder, {\n    name: TOP\n  }), createElement(TemplatePlaceholder, {\n    name: TOP + \"-\" + RIGHT\n  })), createElement(\"div\", {\n    id: \"center-container\",\n    style: {\n      display: 'flex',\n      flexDirection: 'row',\n      flexGrow: 1\n    }\n  }, createElement(TemplatePlaceholder, {\n    name: LEFT\n  }), createElement(TemplatePlaceholder, null), createElement(TemplatePlaceholder, {\n    name: RIGHT\n  })), createElement(\"div\", {\n    id: BOTTOM + \"-container\",\n    style: {\n      display: 'flex',\n      flexDirection: 'row'\n    }\n  }, createElement(TemplatePlaceholder, {\n    name: BOTTOM + \"-\" + LEFT\n  }), createElement(TemplatePlaceholder, {\n    name: BOTTOM\n  }), createElement(TemplatePlaceholder, {\n    name: BOTTOM + \"-\" + RIGHT\n  }))));\n};\n\nvar PaletteBase = /*#__PURE__*/function (_super) {\n  __extends(PaletteBase, _super);\n\n  function PaletteBase() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  PaletteBase.prototype.render = function () {\n    var scheme = this.props.scheme;\n    return createElement(Plugin, {\n      name: \"Palette\"\n    }, createElement(Getter, {\n      name: \"palette\",\n      value: scheme\n    }));\n  };\n\n  return PaletteBase;\n}(PureComponent);\n\nvar Palette = PaletteBase;\n\nvar Root = /*#__PURE__*/function (_super) {\n  __extends(Root, _super);\n\n  function Root() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Root.prototype.render = function () {\n    var _a = this.props,\n        children = _a.children,\n        width = _a.width,\n        height = _a.height,\n        style = _a.style,\n        restProps = __rest(_a, [\"children\", \"width\", \"height\", \"style\"]);\n\n    return createElement(\"div\", __assign({\n      style: __assign(__assign(__assign({}, style), {\n        height: height + \"px\"\n      }), width ? {\n        width: width + \"px\"\n      } : null)\n    }, restProps), children);\n  };\n\n  return Root;\n}(PureComponent);\n\nvar Label = /*#__PURE__*/function (_super) {\n  __extends(Label, _super);\n\n  function Label() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Label.prototype.render = function () {\n    return createElement(\"text\", __assign({}, this.props));\n  };\n\n  return Label;\n}(PureComponent);\n\nvar scheme = [];\nvar placeholders = [TOP + \"-\" + LEFT, TOP + \"-\" + RIGHT, BOTTOM + \"-\" + LEFT, BOTTOM + \"-\" + RIGHT, TOP + \"-\" + LEFT + \"-axis\", TOP + \"-\" + RIGHT + \"-axis\", BOTTOM + \"-\" + LEFT + \"-axis\", BOTTOM + \"-\" + RIGHT + \"-axis\"];\n\nvar RawChart = /*#__PURE__*/function (_super) {\n  __extends(RawChart, _super);\n\n  function RawChart() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  RawChart.prototype.render = function () {\n    var _a = this.props,\n        data = _a.data,\n        width = _a.width,\n        height = _a.height,\n        children = _a.children,\n        rotated = _a.rotated,\n        rootComponent = _a.rootComponent,\n        restProps = __rest(_a, [\"data\", \"width\", \"height\", \"children\", \"rotated\", \"rootComponent\"]);\n\n    return createElement(PluginHost, null, createElement(BasicData, {\n      data: data,\n      rotated: rotated\n    }), createElement(Palette, {\n      scheme: scheme\n    }), createElement(LayoutManager, __assign({\n      width: width,\n      height: height,\n      rootComponent: rootComponent\n    }, restProps)), createElement(PaneLayout, null), createElement(AxesLayout, null), createElement(ComponentLayout, null), createElement(SpaceFillingRects, {\n      placeholders: placeholders\n    }), children, createElement(ControllerComponent, null), createElement(ChartCore, null));\n  };\n\n  RawChart.defaultProps = {\n    height: 500,\n    rotated: false\n  };\n  RawChart.components = {\n    rootComponent: 'Root'\n  };\n  return RawChart;\n}(PureComponent);\n\nvar Chart = withComponents({\n  Root: Root\n})(RawChart);\nChart.Label = Label;\n\nvar Marker = /*#__PURE__*/function (_super) {\n  __extends(Marker, _super);\n\n  function Marker() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Marker.prototype.render = function () {\n    var _a = this.props,\n        color = _a.color,\n        restProps = __rest(_a, [\"color\"]);\n\n    return createElement(\"svg\", __assign({\n      fill: color,\n      width: \"10\",\n      height: \"10\"\n    }, restProps), createElement(\"circle\", __assign({\n      r: 5,\n      cx: 5,\n      cy: 5\n    }, restProps)));\n  };\n\n  return Marker;\n}(PureComponent);\n\nvar RawLegend = /*#__PURE__*/function (_super) {\n  __extends(RawLegend, _super);\n\n  function RawLegend() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  RawLegend.prototype.render = function () {\n    var _a = this.props,\n        MarkerComponent = _a.markerComponent,\n        Label = _a.labelComponent,\n        Root = _a.rootComponent,\n        Item = _a.itemComponent,\n        position = _a.position,\n        getItems = _a.getItems;\n    var placeholder = position;\n    return createElement(Plugin, {\n      name: \"Legend\"\n    }, createElement(Template, {\n      name: placeholder\n    }, createElement(TemplatePlaceholder, null), createElement(TemplateConnector, null, function (getters) {\n      return createElement(Root, {\n        name: \"legend-\" + placeholder\n      }, getItems(getters).map(function (_a) {\n        var text = _a.text,\n            color = _a.color;\n        return createElement(Item, {\n          key: text\n        }, createElement(MarkerComponent, {\n          name: text,\n          color: color\n        }), createElement(Label, {\n          text: text\n        }));\n      }));\n    })));\n  };\n\n  RawLegend.defaultProps = {\n    position: 'right',\n    getItems: function (_a) {\n      var series = _a.series;\n      return getLegendItems(series);\n    }\n  };\n  RawLegend.components = {\n    rootComponent: 'Root',\n    itemComponent: 'Item',\n    markerComponent: 'Marker',\n    labelComponent: 'Label'\n  };\n  return RawLegend;\n}(PureComponent);\n\nvar Legend = withComponents({\n  Marker: Marker\n})(RawLegend);\n\nvar TitleBase = /*#__PURE__*/function (_super) {\n  __extends(TitleBase, _super);\n\n  function TitleBase() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  TitleBase.prototype.render = function () {\n    var _a = this.props,\n        Text = _a.textComponent,\n        text = _a.text,\n        position = _a.position;\n    var placeholder = position;\n    return createElement(Plugin, {\n      name: \"Title\"\n    }, createElement(Template, {\n      name: placeholder\n    }, createElement(TemplatePlaceholder, null), createElement(Text, {\n      text: text\n    })));\n  };\n\n  TitleBase.components = {\n    textComponent: 'Text'\n  };\n  TitleBase.defaultProps = {\n    position: 'top'\n  };\n  return TitleBase;\n}(PureComponent);\n\nvar Title = TitleBase;\n/** @internal */\n\nvar declareSeries = function (pluginName, _a) {\n  var components = _a.components,\n      getPointTransformer = _a.getPointTransformer,\n      createHitTester = _a.createHitTester;\n\n  var Component = /*#__PURE__*/function (_super) {\n    __extends(Component, _super);\n\n    function Component() {\n      return _super !== null && _super.apply(this, arguments) || this;\n    }\n\n    Component.prototype.render = function () {\n      var _a = this.props,\n          name = _a.name,\n          argumentField = _a.argumentField,\n          valueField = _a.valueField,\n          scaleName = _a.scaleName,\n          seriesComponent = _a.seriesComponent,\n          pointComponent = _a.pointComponent,\n          color = _a.color,\n          restProps = __rest(_a, [\"name\", \"argumentField\", \"valueField\", \"scaleName\", \"seriesComponent\", \"pointComponent\", \"color\"]);\n\n      var symbolName = Symbol(name);\n\n      var seriesItem = __assign(__assign({\n        getPointTransformer: getPointTransformer,\n        createHitTester: createHitTester\n      }, this.props), {\n        symbolName: symbolName\n      });\n\n      var getSeries = function (_a) {\n        var series = _a.series,\n            data = _a.data,\n            palette = _a.palette;\n        return addSeries(series, data, palette, seriesItem, restProps);\n      };\n\n      var getDomains = function (_a) {\n        var series = _a.series,\n            domains = _a.domains;\n        return extendDomains(domains, findSeriesByName(symbolName, series));\n      };\n\n      return createElement(Plugin, {\n        name: pluginName\n      }, createElement(Getter, {\n        name: \"series\",\n        computed: getSeries\n      }), createElement(Getter, {\n        name: \"domains\",\n        computed: getDomains\n      }), createElement(Template, {\n        name: \"series\"\n      }, createElement(TemplatePlaceholder, null), createElement(TemplateConnector, null, function (_a) {\n        var series = _a.series,\n            scales = _a.scales,\n            animation = _a.animation,\n            rotated = _a.rotated,\n            layouts = _a.layouts,\n            clipPathId = _a.clipPathId,\n            readyToRenderSeries = _a.readyToRenderSeries;\n        var pane = layouts.pane;\n        var currentSeries = findSeriesByName(symbolName, series);\n        var currentScales = {\n          argScale: scales[ARGUMENT_DOMAIN],\n          valScale: scales[getValueDomainName(currentSeries.scaleName)]\n        };\n        var Path = currentSeries.seriesComponent;\n        return createElement(Path, {\n          index: currentSeries.index,\n          pointComponent: currentSeries.pointComponent,\n          coordinates: currentSeries.points,\n          rotated: rotated,\n          state: currentSeries.state,\n          color: currentSeries.color,\n          scales: currentScales,\n          pane: pane,\n          clipPathId: clipPathId,\n          animation: animation,\n          readyToRenderSeries: readyToRenderSeries\n        });\n      })));\n    };\n\n    Component.defaultProps = {\n      name: 'defaultSeriesName'\n    };\n    return Component;\n  }(PureComponent);\n\n  Component.components = {};\n\n  if (components.Path) {\n    Component.components.seriesComponent = 'Path';\n  }\n\n  if (components.Point) {\n    Component.components.pointComponent = 'Point';\n  }\n\n  return withComponents(components)(Component);\n};\n/** @internal */\n\n\nvar withPatchedProps = function (patch) {\n  return function (Target) {\n    var Component = /*#__PURE__*/function (_super) {\n      __extends(Component, _super);\n\n      function Component() {\n        return _super !== null && _super.apply(this, arguments) || this;\n      }\n\n      Component.prototype.render = function () {\n        var props = patch(this.props);\n        return createElement(Target, __assign({}, props));\n      };\n\n      Component.components = Target.components;\n      return Component;\n    }(PureComponent);\n\n    return Component;\n  };\n};\n/** @internal */\n\n\nvar Scale = /*#__PURE__*/function (_super) {\n  __extends(Scale, _super);\n\n  function Scale() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Scale.prototype.render = function () {\n    var _a = this.props,\n        name = _a.name,\n        factory = _a.factory,\n        modifyDomain = _a.modifyDomain;\n    var args = {\n      factory: factory,\n      modifyDomain: modifyDomain\n    };\n\n    var getDomains = function (_a) {\n      var domains = _a.domains;\n      return addDomain(domains, name, args);\n    };\n\n    return createElement(Plugin, {\n      name: \"Scale\"\n    }, createElement(Getter, {\n      name: \"domains\",\n      computed: getDomains\n    }));\n  };\n\n  return Scale;\n}(PureComponent);\n\nvar ArgumentScale = withPatchedProps(function (props) {\n  return __assign(__assign({}, props), {\n    name: ARGUMENT_DOMAIN\n  });\n})(Scale);\nvar ValueScale = withPatchedProps(function (props) {\n  return __assign(__assign({}, props), {\n    name: getValueDomainName(props.name)\n  });\n})(Scale);\n\nvar getDomains = function (_a) {\n  var domains = _a.domains,\n      series = _a.series;\n  return getStackedDomains(domains, series);\n};\n\nvar StackBase = /*#__PURE__*/function (_super) {\n  __extends(StackBase, _super);\n\n  function StackBase() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  StackBase.prototype.render = function () {\n    var _a = this.props,\n        stacks = _a.stacks,\n        offset = _a.offset,\n        order = _a.order;\n    var params = {\n      stacks: stacks,\n      offset: offset,\n      order: order\n    };\n\n    var getSeries = function (_a) {\n      var series = _a.series,\n          data = _a.data;\n      return getStackedSeries(series, data, params);\n    };\n\n    return createElement(Plugin, {\n      name: \"Stack\"\n    }, createElement(Getter, {\n      name: \"series\",\n      computed: getSeries\n    }), createElement(Getter, {\n      name: \"domains\",\n      computed: getDomains\n    }));\n  };\n\n  StackBase.defaultProps = {\n    stacks: [],\n    offset: stackOffsetDiverging,\n    order: stackOrderNone\n  };\n  return StackBase;\n}(PureComponent);\n\nvar Stack = StackBase;\n\nvar AnimationBase = /*#__PURE__*/function (_super) {\n  __extends(AnimationBase, _super);\n\n  function AnimationBase() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  AnimationBase.prototype.render = function () {\n    var _a = this.props,\n        easing = _a.easing,\n        duration = _a.duration;\n\n    var buildAnimationGetter = function () {\n      return buildAnimation(easing, duration);\n    };\n\n    return createElement(Plugin, {\n      name: \"Animation\"\n    }, createElement(Getter, {\n      name: \"animation\",\n      computed: buildAnimationGetter\n    }));\n  };\n\n  AnimationBase.defaultProps = {\n    easing: easeOutCubic,\n    duration: 1000\n  };\n  return AnimationBase;\n}(PureComponent);\n\nvar Animation = AnimationBase;\n\nvar withStates = function (states) {\n  return function (Component) {\n    var ComponentWithStates = /*#__PURE__*/function (_super) {\n      __extends(ComponentWithStates, _super);\n\n      function ComponentWithStates() {\n        return _super !== null && _super.apply(this, arguments) || this;\n      }\n\n      ComponentWithStates.prototype.render = function () {\n        var _a = this.props,\n            state = _a.state,\n            restProps = __rest(_a, [\"state\"]);\n\n        var stateFunc = state && states[state];\n        var result = stateFunc ? stateFunc(restProps) : restProps;\n        return isValidElement(result) ? result : createElement(Component, __assign({}, result));\n      };\n\n      return ComponentWithStates;\n    }(PureComponent);\n\n    return ComponentWithStates;\n  };\n};\n\nvar Pattern = /*#__PURE__*/function (_super) {\n  __extends(Pattern, _super);\n\n  function Pattern() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Pattern.prototype.render = function () {\n    var _a = this.props,\n        id = _a.id,\n        size = _a.size,\n        color = _a.color,\n        opacity = _a.opacity;\n    return createElement(\"defs\", null, createElement(\"pattern\", {\n      id: id,\n      width: size,\n      height: size,\n      patternUnits: \"userSpaceOnUse\"\n    }, createElement(\"rect\", {\n      x: 0,\n      y: 0,\n      width: size,\n      height: size,\n      fill: color,\n      opacity: opacity\n    }), createElement(\"path\", {\n      // tslint:disable-next-line: max-line-length\n      d: \"M \" + size / 2 + \" \" + -size / 2 + \" L \" + -size / 2 + \" \" + size / 2 + \" M 0 \" + size + \" L \" + size + \" 0 M \" + size * 1.5 + \" \" + size / 2 + \" L \" + size / 2 + \" \" + size * 1.5,\n      strokeWidth: 2,\n      stroke: color\n    })));\n  };\n\n  Pattern.defaultProps = {\n    size: 6,\n    opacity: 0.75\n  };\n  return Pattern;\n}(PureComponent); // Function is returned (not PureComponent descendant) because\n// result is invoked as function (not as React component).\n\n\nvar withPattern = function (getPatternId, props) {\n  return function (Target) {\n    return function (targetProps) {\n      var color = targetProps.color,\n          restProps = __rest(targetProps, [\"color\"]);\n\n      var patternId = getPatternId(targetProps);\n      return createElement(Fragment, null, createElement(Target, __assign({\n        color: \"url(#\" + patternId + \")\"\n      }, restProps)), createElement(Pattern, __assign({\n        id: patternId,\n        color: color\n      }, props)));\n    };\n  };\n};\n\nvar withAnimation = function (processAnimation, getProps, getStartCoordinates, isValuesChanged, getDelay) {\n  return function (Component) {\n    var ComponentWithAnimation = /*#__PURE__*/function (_super) {\n      __extends(ComponentWithAnimation, _super);\n\n      function ComponentWithAnimation(props) {\n        var _this = _super.call(this, props) || this;\n\n        _this.setAttribute = _this.setAttribute.bind(_this);\n        return _this;\n      }\n\n      ComponentWithAnimation.prototype.setAttribute = function (state) {\n        this.setState(state);\n      };\n\n      ComponentWithAnimation.prototype.componentDidMount = function () {\n        var _a = this.props,\n            animation = _a.animation,\n            scales = _a.scales,\n            index = _a.index,\n            readyToRenderSeries = _a.readyToRenderSeries;\n\n        if (!readyToRenderSeries) {\n          return;\n        }\n\n        var props = getProps(this.props);\n        this.processComponent(animation, {\n          scales: {}\n        }, scales, props, {}, index);\n      };\n\n      ComponentWithAnimation.prototype.componentDidUpdate = function (prevProps) {\n        var _a = this.props,\n            scales = _a.scales,\n            index = _a.index,\n            animation = _a.animation,\n            readyToRenderSeries = _a.readyToRenderSeries;\n\n        if (!readyToRenderSeries) {\n          return;\n        }\n\n        this.processComponent(animation, prevProps, scales, getProps(this.props), getProps(prevProps), index);\n      };\n\n      ComponentWithAnimation.prototype.processComponent = function (animation, _a, scales, props, prevProps, index) {\n        var prevScales = _a.scales;\n\n        if (!animation) {\n          this.setAttribute(props);\n        } else if (this.animate) {\n          if (isScalesChanged(prevScales, scales)) {\n            this.setAttribute(props);\n          } else if (isValuesChanged(prevProps, props)) {\n            var delay = getDelay ? getDelay(index, false) : 0;\n            this.animate.update(prevProps, props, delay);\n          }\n        } else {\n          this.animate = animation(getStartCoordinates(scales, props), props, processAnimation, this.setAttribute, getDelay && getDelay(index, true));\n        }\n      };\n\n      ComponentWithAnimation.prototype.componentWillUnmount = function () {\n        return this.animate && this.animate.stop();\n      };\n\n      ComponentWithAnimation.prototype.render = function () {\n        var _a = this.props,\n            readyToRenderSeries = _a.readyToRenderSeries,\n            restProps = __rest(_a, [\"readyToRenderSeries\"]);\n\n        if (!this.state) {\n          return null;\n        }\n\n        return createElement(Component, __assign({}, restProps, this.state));\n      };\n\n      return ComponentWithAnimation;\n    }(PureComponent);\n\n    return ComponentWithAnimation;\n  };\n};\n\nvar _a;\n\nvar RawArea = /*#__PURE__*/function (_super) {\n  __extends(RawArea, _super);\n\n  function RawArea() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  RawArea.prototype.render = function () {\n    var _a = this.props,\n        path = _a.path,\n        coordinates = _a.coordinates,\n        animation = _a.animation,\n        index = _a.index,\n        state = _a.state,\n        pointComponent = _a.pointComponent,\n        color = _a.color,\n        clipPathId = _a.clipPathId,\n        pane = _a.pane,\n        scales = _a.scales,\n        rotated = _a.rotated,\n        restProps = __rest(_a, [\"path\", \"coordinates\", \"animation\", \"index\", \"state\", \"pointComponent\", \"color\", \"clipPathId\", \"pane\", \"scales\", \"rotated\"]);\n\n    var dPath = path === undefined ? rotated ? dRotateArea : dArea : path;\n    return createElement(\"path\", __assign({\n      clipPath: \"url(#\" + clipPathId + \")\",\n      d: dPath(coordinates),\n      fill: color,\n      opacity: 0.5\n    }, restProps));\n  };\n\n  return RawArea;\n}(PureComponent); // It should actually be `withPattern<AreaSeries.PointProps>` but `opacity` is not decleared there.\n// It is not clear if `opacity` should be explicitly enumerated or stay as part of `restProps`.\n\n\nvar Area = withAnimation(processAreaAnimation, function (_a) {\n  var coordinates = _a.coordinates;\n  return {\n    coordinates: coordinates\n  };\n}, getPathStart, isCoordinatesChanged)(withStates((_a = {}, _a[HOVERED] = withPattern(function (_a) {\n  var index = _a.index,\n      color = _a.color;\n  return \"series-\" + index + \"-color-\" + color + \"-hover\";\n}, {\n  opacity: 0.75\n})(RawArea), _a[SELECTED] = withPattern(function (_a) {\n  var index = _a.index,\n      color = _a.color;\n  return \"series-\" + index + \"-color-\" + color + \"-selection\";\n}, {\n  opacity: 0.5\n})(RawArea), _a))(RawArea)); // tslint:disable-next-line: max-line-length\n\nvar AreaSeries = declareSeries('AreaSeries', {\n  getPointTransformer: getAreaPointTransformer,\n  createHitTester: createAreaHitTester,\n  components: {\n    Path: Area\n  }\n});\n/** @internal */\n\nvar PointCollection = /*#__PURE__*/function (_super) {\n  __extends(PointCollection, _super);\n\n  function PointCollection() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  PointCollection.prototype.render = function () {\n    var _a = this.props,\n        pointComponent = _a.pointComponent,\n        coordinates = _a.coordinates,\n        index = _a.index,\n        state = _a.state,\n        clipPathId = _a.clipPathId,\n        restProps = __rest(_a, [\"pointComponent\", \"coordinates\", \"index\", \"state\", \"clipPathId\"]) // restProps are used because of animation and scale\n    ;\n\n    var Point = pointComponent;\n    return coordinates.map(function (point) {\n      return createElement(Point, __assign({\n        key: String(point.index),\n        seriesIndex: index\n      }, restProps, point));\n    });\n  };\n\n  return PointCollection;\n}(PureComponent);\n\nvar _a$1;\n\nvar RawBar = /*#__PURE__*/function (_super) {\n  __extends(RawBar, _super);\n\n  function RawBar() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  RawBar.prototype.render = function () {\n    var _a = this.props,\n        arg = _a.arg,\n        val = _a.val,\n        startVal = _a.startVal,\n        barWidth = _a.barWidth,\n        maxBarWidth = _a.maxBarWidth,\n        animation = _a.animation,\n        argument = _a.argument,\n        value = _a.value,\n        seriesIndex = _a.seriesIndex,\n        index = _a.index,\n        state = _a.state,\n        rotated = _a.rotated,\n        color = _a.color,\n        pane = _a.pane,\n        scales = _a.scales,\n        restProps = __rest(_a, [\"arg\", \"val\", \"startVal\", \"barWidth\", \"maxBarWidth\", \"animation\", \"argument\", \"value\", \"seriesIndex\", \"index\", \"state\", \"rotated\", \"color\", \"pane\", \"scales\"]);\n\n    var width = barWidth * maxBarWidth;\n    var bar = dBar(arg, val, startVal, width, rotated);\n    var visibility = getVisibility(pane, bar.x + bar.width / 2, bar.y + bar.height, bar.width, bar.height);\n    var adjustedBar = visibility === 'visible' ? adjustBarSize(bar, pane) : bar;\n    return createElement(\"rect\", __assign({}, adjustedBar, {\n      fill: color,\n      visibility: visibility\n    }, restProps));\n  };\n\n  return RawBar;\n}(PureComponent); // It should actually be `withPattern<BarSeries.PointProps>` but `opacity` is not decleared there.\n// It is not clear if `opacity` should be explicitly enumerated or stay as part of `restProps`.\n\n\nvar Bar = withAnimation(processBarAnimation, function (_a) {\n  var arg = _a.arg,\n      val = _a.val,\n      startVal = _a.startVal;\n  return {\n    arg: arg,\n    val: val,\n    startVal: startVal\n  };\n}, getPointStart, isValuesChanged)(withStates((_a$1 = {}, _a$1[HOVERED] = withPattern(function (_a) {\n  var seriesIndex = _a.seriesIndex,\n      index = _a.index,\n      color = _a.color;\n  return \"series-\" + seriesIndex + \"-point-\" + index + \"-color-\" + color + \"-hover\";\n}, {\n  opacity: 0.75\n})(RawBar), _a$1[SELECTED] = withPattern(function (_a) {\n  var seriesIndex = _a.seriesIndex,\n      index = _a.index,\n      color = _a.color;\n  return \"series-\" + seriesIndex + \"-point-\" + index + \"-color-\" + color + \"-selection\";\n}, {\n  opacity: 0.5\n})(RawBar), _a$1))(RawBar)); // tslint:disable-next-line: max-line-length\n\nvar BarSeries = declareSeries('BarSeries', {\n  getPointTransformer: getBarPointTransformer,\n  createHitTester: createBarHitTester,\n  components: {\n    Path: PointCollection,\n    Point: Bar\n  }\n});\nBarSeries.defaultProps = {\n  barWidth: 0.9\n};\n\nvar _a$2;\n\nvar RawPath = /*#__PURE__*/function (_super) {\n  __extends(RawPath, _super);\n\n  function RawPath() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  RawPath.prototype.render = function () {\n    var _a = this.props,\n        path = _a.path,\n        animation = _a.animation,\n        coordinates = _a.coordinates,\n        rotated = _a.rotated,\n        index = _a.index,\n        state = _a.state,\n        pointComponent = _a.pointComponent,\n        color = _a.color,\n        clipPathId = _a.clipPathId,\n        scales = _a.scales,\n        pane = _a.pane,\n        restProps = __rest(_a, [\"path\", \"animation\", \"coordinates\", \"rotated\", \"index\", \"state\", \"pointComponent\", \"color\", \"clipPathId\", \"scales\", \"pane\"]);\n\n    return createElement(\"path\", __assign({\n      clipPath: \"url(#\" + clipPathId + \")\",\n      d: path(coordinates),\n      fill: \"none\",\n      strokeWidth: 2,\n      stroke: color\n    }, restProps));\n  };\n\n  return RawPath;\n}(PureComponent);\n\nvar Path = withAnimation(processLineAnimation, function (_a) {\n  var coordinates = _a.coordinates;\n  return {\n    coordinates: coordinates\n  };\n}, getPathStart, isCoordinatesChanged)(withStates((_a$2 = {}, _a$2[HOVERED] = function (props) {\n  return __assign({\n    strokeWidth: 4\n  }, props);\n}, _a$2[SELECTED] = function (props) {\n  return __assign({\n    strokeWidth: 4\n  }, props);\n}, _a$2))(RawPath));\n\nvar Line = /*#__PURE__*/function (_super) {\n  __extends(Line, _super);\n\n  function Line() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Line.prototype.render = function () {\n    var _a = this.props,\n        rotated = _a.rotated,\n        path = _a.path;\n    var dPath = path === undefined ? rotated ? dRotateLine : dLine : path;\n    return createElement(Path, __assign({}, this.props, {\n      path: dPath\n    }));\n  };\n\n  return Line;\n}(PureComponent); // tslint:disable-next-line: max-line-length\n\n\nvar LineSeries = declareSeries('LineSeries', {\n  getPointTransformer: getLinePointTransformer,\n  createHitTester: createLineHitTester,\n  components: {\n    Path: Line\n  }\n});\n\nvar _a$3;\n\nvar RawSlice = /*#__PURE__*/function (_super) {\n  __extends(RawSlice, _super);\n\n  function RawSlice() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  RawSlice.prototype.render = function () {\n    var _a = this.props,\n        arg = _a.arg,\n        val = _a.val,\n        rotated = _a.rotated,\n        argument = _a.argument,\n        value = _a.value,\n        seriesIndex = _a.seriesIndex,\n        index = _a.index,\n        state = _a.state,\n        maxRadius = _a.maxRadius,\n        innerRadius = _a.innerRadius,\n        outerRadius = _a.outerRadius,\n        startAngle = _a.startAngle,\n        endAngle = _a.endAngle,\n        color = _a.color,\n        animation = _a.animation,\n        pane = _a.pane,\n        scales = _a.scales,\n        restProps = __rest(_a, [\"arg\", \"val\", \"rotated\", \"argument\", \"value\", \"seriesIndex\", \"index\", \"state\", \"maxRadius\", \"innerRadius\", \"outerRadius\", \"startAngle\", \"endAngle\", \"color\", \"animation\", \"pane\", \"scales\"]);\n\n    return createElement(\"g\", {\n      transform: \"translate(\" + arg + \" \" + val + \")\"\n    }, createElement(\"path\", __assign({\n      d: dPie(maxRadius, innerRadius, outerRadius, startAngle, endAngle),\n      fill: color,\n      stroke: \"none\"\n    }, restProps)));\n  };\n\n  return RawSlice;\n}(PureComponent); // It should actually be `withPattern<PieSeries.PointProps>` but `opacity` is not decleared there.\n// It is not clear if `opacity` should be explicitly enumerated or stay as part of `restProps`.\n\n\nvar Slice = withAnimation(processPieAnimation, function (_a) {\n  var innerRadius = _a.innerRadius,\n      outerRadius = _a.outerRadius,\n      startAngle = _a.startAngle,\n      endAngle = _a.endAngle;\n  return {\n    innerRadius: innerRadius,\n    outerRadius: outerRadius,\n    startAngle: startAngle,\n    endAngle: endAngle\n  };\n}, getPieStart, isValuesChanged, getDelay)(withStates((_a$3 = {}, _a$3[HOVERED] = withPattern(function (_a) {\n  var seriesIndex = _a.seriesIndex,\n      index = _a.index,\n      color = _a.color;\n  return \"series-\" + seriesIndex + \"-point-\" + index + \"-color-\" + color + \"-hover\";\n}, {\n  opacity: 0.75\n})(RawSlice), _a$3[SELECTED] = withPattern(function (_a) {\n  var seriesIndex = _a.seriesIndex,\n      index = _a.index,\n      color = _a.color;\n  return \"series-\" + seriesIndex + \"-point-\" + index + \"-color-\" + color + \"-selection\";\n}, {\n  opacity: 0.5\n})(RawSlice), _a$3))(RawSlice)); // tslint:disable-next-line: max-line-length\n\nvar PieSeries = declareSeries('PieSeries', {\n  getPointTransformer: getPiePointTransformer,\n  createHitTester: createPieHitTester,\n  components: {\n    Path: PointCollection,\n    Point: Slice\n  }\n});\nPieSeries.defaultProps = {\n  innerRadius: 0,\n  outerRadius: 1\n};\n\nvar _a$4;\n\nvar RawPoint = /*#__PURE__*/function (_super) {\n  __extends(RawPoint, _super);\n\n  function RawPoint() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  RawPoint.prototype.render = function () {\n    var _a = this.props,\n        arg = _a.arg,\n        val = _a.val,\n        rotated = _a.rotated,\n        animation = _a.animation,\n        argument = _a.argument,\n        value = _a.value,\n        seriesIndex = _a.seriesIndex,\n        index = _a.index,\n        state = _a.state,\n        pointOptions = _a.point,\n        color = _a.color,\n        pane = _a.pane,\n        scales = _a.scales,\n        restProps = __rest(_a, [\"arg\", \"val\", \"rotated\", \"animation\", \"argument\", \"value\", \"seriesIndex\", \"index\", \"state\", \"point\", \"color\", \"pane\", \"scales\"]);\n\n    var x = rotated ? val : arg;\n    var y = rotated ? arg : val;\n    var visibility = getVisibility(pane, x, y, 0, 0);\n    return createElement(\"path\", __assign({\n      transform: \"translate(\" + x + \" \" + y + \")\",\n      d: dSymbol(pointOptions),\n      fill: color,\n      visibility: visibility,\n      stroke: \"none\"\n    }, restProps));\n  };\n\n  return RawPoint;\n}(PureComponent); // The expression is used to have 12 from 7 in default scenario\n// and to adjust hovered or selected size when custom *point.size* is defined.\n\n\nvar getAdjustedOptions = function (_a) {\n  var size = _a.size;\n  return {\n    size: Math.round(size * 1.7)\n  };\n};\n\nvar Point = withAnimation(processPointAnimation, function (_a) {\n  var arg = _a.arg,\n      val = _a.val;\n  return {\n    arg: arg,\n    val: val\n  };\n}, getPointStart, isValuesChanged)(withStates((_a$4 = {}, _a$4[HOVERED] = function (_a) {\n  var color = _a.color,\n      point = _a.point,\n      restProps = __rest(_a, [\"color\", \"point\"]);\n\n  return __assign({\n    stroke: color,\n    strokeWidth: 4,\n    fill: 'none',\n    point: getAdjustedOptions(point)\n  }, restProps);\n}, _a$4[SELECTED] = function (_a) {\n  var color = _a.color,\n      point = _a.point,\n      restProps = __rest(_a, [\"color\", \"point\"]);\n\n  return __assign({\n    stroke: color,\n    strokeWidth: 4,\n    fill: 'none',\n    point: getAdjustedOptions(point)\n  }, restProps);\n}, _a$4))(RawPoint)); // tslint:disable-next-line: max-line-length\n\nvar ScatterSeries = declareSeries('ScatterSeries', {\n  getPointTransformer: getScatterPointTransformer,\n  createHitTester: createScatterHitTester,\n  components: {\n    Path: PointCollection,\n    Point: Point\n  }\n});\nScatterSeries.defaultProps = {\n  point: {\n    size: 7\n  }\n};\n\nvar Spline = /*#__PURE__*/function (_super) {\n  __extends(Spline, _super);\n\n  function Spline() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Spline.prototype.render = function () {\n    var _a = this.props,\n        rotated = _a.rotated,\n        path = _a.path;\n    var dPath = path === undefined ? rotated ? dRotateSpline : dSpline : path;\n    return createElement(Path, __assign({}, this.props, {\n      path: dPath\n    }));\n  };\n\n  return Spline;\n}(PureComponent); // tslint:disable-next-line: max-line-length\n\n\nvar SplineSeries = declareSeries('SplineSeries', {\n  getPointTransformer: getLinePointTransformer,\n  createHitTester: createSplineHitTester,\n  components: {\n    Path: Spline\n  }\n});\n\nvar getOffset = function (position) {\n  return position >= 0 ? 0 : -position;\n};\n\nvar getSize = function (position, delta) {\n  return position >= 0 ? position + delta : -position;\n};\n\nvar Root$1 = /*#__PURE__*/function (_super) {\n  __extends(Root, _super);\n\n  function Root(props) {\n    var _this = _super.call(this, props) || this;\n\n    _this.ref = createRef();\n    _this.state = {\n      x: 0,\n      y: 0\n    };\n    _this.adjust = _this.adjust.bind(_this);\n    return _this;\n  }\n\n  Root.prototype.componentDidMount = function () {\n    this.setState(this.adjust);\n  };\n\n  Root.prototype.componentDidUpdate = function () {\n    // *setState* is called unconditionally because PureComponent is expected to break the cycle.\n    this.setState(this.adjust);\n  }; // Since calculated state does not depend on current state non-callback version of *setState*\n  // might have been expected - it can't be done.\n  // Parent component (Axis) accesses its DOM content in *onSizeChange* handler. When\n  // this component is mounted parent is not yet - it crashes on DOM access.\n  // *setState* callback is invoked later then *componentDidMount* - by that time parent component\n  // is already mounted and can access its DOM.\n  // Because of it callback version of *setState* has to be used here.\n  // Can we rely on the fact that by the time of callback parent is mounted?\n  // For now we stick with it, but need to find a more solid solution.\n\n\n  Root.prototype.adjust = function (_, _a) {\n    var dx = _a.dx,\n        dy = _a.dy,\n        onSizeChange = _a.onSizeChange;\n    var bbox = this.ref.current.getBBox();\n    var width = dx ? bbox.width : getSize(bbox.x, bbox.width);\n    var height = dy ? bbox.height : getSize(bbox.y, bbox.height);\n    var x = dx ? 0 : getOffset(bbox.x);\n    var y = dy ? 0 : getOffset(bbox.y);\n    onSizeChange({\n      width: width,\n      height: height\n    });\n    return {\n      x: x,\n      y: y\n    };\n  };\n\n  Root.prototype.render = function () {\n    var _a = this.props,\n        children = _a.children,\n        onSizeChange = _a.onSizeChange,\n        dx = _a.dx,\n        dy = _a.dy,\n        restProps = __rest(_a, [\"children\", \"onSizeChange\", \"dx\", \"dy\"]);\n\n    var _b = this.state,\n        x = _b.x,\n        y = _b.y;\n    return createElement(\"g\", __assign({\n      ref: this.ref,\n      transform: \"translate(\" + x + \" \" + y + \")\"\n    }, restProps), children);\n  };\n\n  return Root;\n}(PureComponent);\n\nvar Label$1 = /*#__PURE__*/function (_super) {\n  __extends(Label, _super);\n\n  function Label() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Label.prototype.render = function () {\n    var _a = this.props,\n        text = _a.text,\n        restProps = __rest(_a, [\"text\"]);\n\n    return createElement(\"text\", __assign({}, restProps), text);\n  };\n\n  return Label;\n}(PureComponent);\n\nvar Line$1 = /*#__PURE__*/function (_super) {\n  __extends(Line, _super);\n\n  function Line() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Line.prototype.render = function () {\n    var _a = this.props,\n        x1 = _a.x1,\n        x2 = _a.x2,\n        y1 = _a.y1,\n        y2 = _a.y2,\n        restProps = __rest(_a, [\"x1\", \"x2\", \"y1\", \"y2\"]);\n\n    return createElement(\"path\", __assign({\n      d: \"M \" + x1 + \" \" + y1 + \" L \" + x2 + \" \" + y2\n    }, restProps));\n  };\n\n  return Line;\n}(PureComponent);\n\nvar SVG_STYLE$1 = {\n  position: 'absolute',\n  left: 0,\n  top: 0,\n  overflow: 'visible'\n};\n\nvar RawAxis = /*#__PURE__*/function (_super) {\n  __extends(RawAxis, _super);\n\n  function RawAxis() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.rootRef = createRef();\n    _this.adjustedWidth = 0;\n    _this.adjustedHeight = 0;\n    return _this;\n  }\n\n  RawAxis.prototype.renderAxis = function (position) {\n    var _this = this;\n\n    var _a = this.props,\n        scaleName = _a.scaleName,\n        tickSize = _a.tickSize,\n        tickFormat = _a.tickFormat,\n        indentFromAxis = _a.indentFromAxis,\n        showTicks = _a.showTicks,\n        showLine = _a.showLine,\n        showLabels = _a.showLabels,\n        RootComponent = _a.rootComponent,\n        TickComponent = _a.tickComponent,\n        LabelComponent = _a.labelComponent,\n        LineComponent = _a.lineComponent;\n    var placeholder = position + \"-axis\";\n    var layoutName = placeholder + \"-\" + scaleName;\n    return createElement(Template, {\n      name: placeholder\n    }, createElement(TemplatePlaceholder, null), createElement(TemplateConnector, null, function (_a, _b) {\n      var scales = _a.scales,\n          layouts = _a.layouts,\n          rotated = _a.rotated;\n      var changeBBox = _b.changeBBox;\n\n      if (!isValidPosition(position, scaleName, rotated)) {\n        return null;\n      }\n\n      var scale = scales[scaleName];\n\n      if (!scale) {\n        return null;\n      }\n\n      var _c = layouts[layoutName] || {\n        width: 0,\n        height: 0\n      },\n          width = _c.width,\n          height = _c.height;\n\n      var paneSize = layouts.pane;\n\n      var _d = getTickCoordinates({\n        callback: tickCoordinatesGetter,\n        scaleName: scaleName,\n        position: position,\n        tickSize: tickSize,\n        tickFormat: tickFormat,\n        indentFromAxis: indentFromAxis,\n        scale: scale,\n        paneSize: [paneSize.width, paneSize.height],\n        rotated: rotated\n      }),\n          _e = __read(_d.sides, 2),\n          dx = _e[0],\n          dy = _e[1],\n          ticks = _d.ticks;\n\n      var handleSizeChange = function (size) {\n        // The callback is called when DOM is available -\n        // *rootRef.current* can be surely accessed.\n        var rect = _this.rootRef.current.getBoundingClientRect();\n\n        var rectSize = [dx ? rect.width : size.width, dy ? rect.height : size.height];\n\n        if (rectSize[0] === _this.adjustedWidth && rectSize[1] === _this.adjustedHeight) {\n          return;\n        } // *setState* is not used because it would cause excessive Plugin rerenders.\n        // Template rerender is provided by *changeBBox* invocation.\n\n\n        _this.adjustedWidth = rectSize[0];\n        _this.adjustedHeight = rectSize[1];\n        changeBBox({\n          placeholder: layoutName,\n          bBox: size\n        });\n      };\n\n      return createElement(\"div\", {\n        style: {\n          position: 'relative',\n          width: dy * width || undefined,\n          height: dx * height || undefined,\n          flexGrow: dx || undefined\n        },\n        ref: _this.rootRef\n      }, createElement(\"svg\", {\n        width: _this.adjustedWidth,\n        height: _this.adjustedHeight,\n        style: SVG_STYLE$1\n      }, createElement(RootComponent, {\n        dx: dx,\n        dy: dy,\n        onSizeChange: handleSizeChange\n      }, showTicks && ticks.map(function (_a) {\n        var x1 = _a.x1,\n            x2 = _a.x2,\n            y1 = _a.y1,\n            y2 = _a.y2,\n            key = _a.key;\n        return createElement(TickComponent, {\n          key: key,\n          x1: x1,\n          x2: x2,\n          y1: y1,\n          y2: y2\n        });\n      }), showLine && createElement(LineComponent, {\n        x1: 0,\n        x2: dx * paneSize.width,\n        y1: 0,\n        y2: dy * paneSize.height\n      }), showLabels && ticks.map(function (_a) {\n        var text = _a.text,\n            xText = _a.xText,\n            yText = _a.yText,\n            delta = _a.dy,\n            textAnchor = _a.textAnchor,\n            key = _a.key;\n        return createElement(LabelComponent, {\n          key: key,\n          text: text,\n          x: xText,\n          y: yText,\n          dy: delta,\n          textAnchor: textAnchor\n        });\n      }))));\n    }));\n  };\n\n  RawAxis.prototype.renderGrid = function () {\n    var _a = this.props,\n        scaleName = _a.scaleName,\n        showGrid = _a.showGrid,\n        GridComponent = _a.gridComponent;\n    return createElement(Template, {\n      name: \"series\"\n    }, createElement(TemplatePlaceholder, null), createElement(TemplateConnector, null, function (_a) {\n      var scales = _a.scales,\n          layouts = _a.layouts,\n          rotated = _a.rotated;\n      var scale = scales[scaleName];\n\n      if (!scale || !showGrid) {\n        return null;\n      }\n\n      var _b = layouts.pane,\n          width = _b.width,\n          height = _b.height;\n\n      var _c = getTickCoordinates({\n        callback: gridCoordinatesGetter,\n        scaleName: scaleName,\n        scale: scale,\n        paneSize: [width, height],\n        rotated: rotated\n      }),\n          ticks = _c.ticks,\n          _d = __read(_c.sides, 2),\n          dx = _d[0],\n          dy = _d[1];\n\n      return createElement(Fragment, null, ticks.map(function (_a) {\n        var key = _a.key,\n            x1 = _a.x1,\n            y1 = _a.y1;\n        return createElement(GridComponent, {\n          key: key,\n          x1: x1,\n          x2: x1 + dy * width,\n          y1: y1,\n          y2: y1 + dx * height\n        });\n      }));\n    }));\n  };\n\n  RawAxis.prototype.render = function () {\n    var position = this.props.position;\n    var rotatedPosition = getRotatedPosition(position); // We have to occupy two placeholders (one for default case and one for rotated case) because\n    // by now it is unknown if Chart is rotated or not.\n    // Only one of templates is rendered then, the other is discarded.\n\n    return createElement(Plugin, {\n      name: \"Axis\"\n    }, createElement(Getter, {\n      name: \"axesExist\",\n      value: true\n    }), this.renderAxis(position), this.renderAxis(rotatedPosition), this.renderGrid());\n  };\n\n  RawAxis.components = {\n    rootComponent: 'Root',\n    tickComponent: 'Tick',\n    labelComponent: 'Label',\n    lineComponent: 'Line',\n    gridComponent: 'Grid'\n  };\n  RawAxis.defaultProps = {\n    tickSize: 5,\n    indentFromAxis: 10\n  };\n  return RawAxis;\n}(PureComponent);\n/** @internal */\n\n\nvar Axis = withComponents({\n  Label: Label$1,\n  Line: Line$1,\n  Root: Root$1,\n  Tick: Line$1,\n  Grid: Line$1\n})(RawAxis); // TODO: It is not axis who defines that argument is HORIZONTAL and value is VERTICAL.\n// TODO: *position* should not be *orientation* dependent -\n// if HORIZONTAL then TOP or BOTTOM, otherwise LEFT of RIGHT.\n// It should be domain dependent - something like AT_DOMAIN_START or AT_DOMAIN_END.\n\nvar ArgumentAxis = withPatchedProps(function (props) {\n  return __assign(__assign({\n    position: BOTTOM,\n    showGrid: false,\n    showTicks: true,\n    showLine: true,\n    showLabels: true\n  }, props), {\n    scaleName: ARGUMENT_DOMAIN\n  });\n})(Axis);\nvar ValueAxis = withPatchedProps(function (props) {\n  return __assign(__assign({\n    position: LEFT,\n    showGrid: true,\n    showTicks: false,\n    showLine: false,\n    showLabels: true\n  }, props), {\n    scaleName: getValueDomainName(props.scaleName)\n  });\n})(Axis);\nvar dependencies = [{\n  name: 'EventTracker',\n  optional: true\n}];\n\nvar TooltipBase = /*#__PURE__*/function (_super) {\n  __extends(TooltipBase, _super);\n\n  function TooltipBase(props) {\n    var _this = _super.call(this, props) || this;\n\n    _this.state = {\n      target: props.targetItem || props.defaultTargetItem\n    };\n\n    var handlePointerMove = _this.handlePointerMove.bind(_this);\n\n    _this.getPointerMoveHandlers = function (_a) {\n      var _b = _a.pointerMoveHandlers,\n          pointerMoveHandlers = _b === void 0 ? [] : _b;\n      return __spread(pointerMoveHandlers, [handlePointerMove]);\n    };\n\n    return _this;\n  }\n\n  TooltipBase.getDerivedStateFromProps = function (props, state) {\n    return {\n      target: props.targetItem !== undefined ? props.targetItem : state.target\n    };\n  };\n\n  TooltipBase.prototype.handlePointerMove = function (_a) {\n    var targets = _a.targets;\n    this.setState(function (_a, _b) {\n      var currentTarget = _a.target;\n      var onTargetItemChange = _b.onTargetItemChange;\n      var target = processHandleTooltip(targets, currentTarget, onTargetItemChange);\n\n      if (target === undefined) {\n        return null;\n      }\n\n      return {\n        target: target\n      };\n    });\n  };\n\n  TooltipBase.prototype.render = function () {\n    var _a = this.props,\n        OverlayComponent = _a.overlayComponent,\n        ContentComponent = _a.contentComponent,\n        SheetComponent = _a.sheetComponent,\n        arrowComponent = _a.arrowComponent;\n    var target = this.state.target;\n    return createElement(Plugin, {\n      name: \"Tooltip\",\n      dependencies: dependencies\n    }, createElement(Getter, {\n      name: \"pointerMoveHandlers\",\n      computed: this.getPointerMoveHandlers\n    }), createElement(Template, {\n      name: \"series\"\n    }, createElement(TemplatePlaceholder, null), createElement(TemplateConnector, null, function (_a) {\n      var series = _a.series,\n          rootRef = _a.rootRef,\n          rotated = _a.rotated;\n\n      if (!target) {\n        return null;\n      }\n\n      var _b = getParameters(series, target),\n          text = _b.text,\n          element = _b.element;\n\n      return createElement(OverlayComponent, {\n        key: \"\" + target.series + target.point,\n        target: createReference(element, rootRef),\n        rotated: rotated,\n        arrowComponent: arrowComponent\n      }, createElement(SheetComponent, null, createElement(ContentComponent, {\n        text: text,\n        targetItem: target\n      })));\n    })));\n  };\n\n  TooltipBase.components = {\n    overlayComponent: 'Overlay',\n    contentComponent: 'Content',\n    arrowComponent: 'Arrow',\n    sheetComponent: 'Sheet'\n  };\n  return TooltipBase;\n}(PureComponent);\n\nvar Tooltip = TooltipBase;\n\nvar DragBox = /*#__PURE__*/function (_super) {\n  __extends(DragBox, _super);\n\n  function DragBox() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  DragBox.prototype.render = function () {\n    var _a = this.props,\n        rect = _a.rect,\n        restProps = __rest(_a, [\"rect\"]);\n\n    return createElement(\"rect\", __assign({\n      x: rect.x,\n      y: rect.y,\n      width: rect.width,\n      height: rect.height\n    }, restProps));\n  };\n\n  return DragBox;\n}(PureComponent);\n\nvar events = {\n  wheel: {\n    func: 'onWheel'\n  },\n  mousedown: {\n    func: 'onStart',\n    extraEvents: ['mousemove', 'mouseup']\n  },\n  touchstart: {\n    func: 'onStart',\n    extraEvents: ['touchmove', 'touchend']\n  }\n};\n\nvar ZoomPanProvider = /*#__PURE__*/function (_super) {\n  __extends(ZoomPanProvider, _super);\n\n  function ZoomPanProvider() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  ZoomPanProvider.prototype.componentDidMount = function () {\n    var _this = this;\n\n    this.svgElement = this.props.rootRef.current;\n    setCursorType(this.svgElement);\n    this.windowHandlers = Object.keys(events).reduce(function (prev, key) {\n      var _a, _b;\n\n      var extraEvents = events[key].extraEvents;\n\n      if (extraEvents) {\n        return __assign(__assign({}, prev), (_a = {}, _a[key] = (_b = {}, _b[extraEvents[0]] = function (event) {\n          _this.props.onMove(event);\n        }, _b[extraEvents[1]] = function (event) {\n          _this.props.onEnd(event);\n\n          setCursorType(_this.svgElement);\n          detachEvents(window, _this.windowHandlers[key]);\n        }, _b), _a));\n      }\n\n      return prev;\n    }, {});\n    this.handlers = Object.keys(events).reduce(function (prev, key) {\n      var _a;\n\n      return __assign(__assign({}, prev), (_a = {}, _a[key] = function (e) {\n        _this.props[events[key].func](e);\n\n        if (events[key].extraEvents) {\n          attachEvents(window, _this.windowHandlers[key]);\n        }\n      }, _a));\n    }, {});\n    attachEvents(this.svgElement, this.handlers);\n  };\n\n  ZoomPanProvider.prototype.componentWillUnmount = function () {\n    var _this = this;\n\n    detachEvents(this.svgElement, this.handlers);\n    Object.keys(this.windowHandlers).forEach(function (el) {\n      detachEvents(window, _this.windowHandlers[el]);\n    });\n  };\n\n  ZoomPanProvider.prototype.render = function () {\n    return null;\n  };\n\n  return ZoomPanProvider;\n}(PureComponent); // tslint:disable-next-line:max-classes-per-file\n\n\nvar ZoomAndPanBase = /*#__PURE__*/function (_super) {\n  __extends(ZoomAndPanBase, _super);\n\n  function ZoomAndPanBase(props) {\n    var _this = _super.call(this, props) || this;\n\n    _this.multiTouchDelta = null;\n    _this.lastCoordinates = null;\n    _this.rectOrigin = null;\n    _this.offset = [0, 0];\n    _this.state = {\n      viewport: props.viewport || props.defaultViewport,\n      rectBox: null\n    };\n    return _this;\n  }\n\n  ZoomAndPanBase.getDerivedStateFromProps = function (props, state) {\n    return {\n      viewport: props.viewport !== undefined ? props.viewport : state.viewport\n    };\n  };\n\n  ZoomAndPanBase.prototype.handleStart = function (zoomRegionKey, e) {\n    // Default browser behavior is prevented in \"move\" handler. It is not enough for IPad.\n    // Calling \"preventDefault\" here (on \"start\") works for IPad.\n    // Going further, since we have to call \"preventDefault\" on \"start\" we may try to get rid of\n    // \"preventDefault\" on move.\n    // TODO: Try to remove \"preventDefault\" from \"move\" handler.\n    e.preventDefault();\n    this.offset = getOffset$1(e.currentTarget);\n    var coords = getEventCoords(e, this.offset); // Rectangle mode should be canceled if \"zoomRegionKey\" is released during mouse movevent or\n    // not pressed when mouse is up. To do it access to \"event\" object is required in\n    // \"handleMove\" and \"handleEnd\".\n    // TODO: Provide rectangle mode canceling.\n\n    if (isKeyPressed(e, zoomRegionKey)) {\n      this.rectOrigin = coords;\n    } else {\n      setCursorType(e.currentTarget, 'grabbing');\n    }\n\n    if (isMultiTouch(e)) {\n      this.multiTouchDelta = getDeltaForTouches(e.touches).delta;\n    }\n\n    this.lastCoordinates = coords;\n  };\n\n  ZoomAndPanBase.prototype.handleMove = function (scales, rotated, e, pane) {\n    e.preventDefault();\n    clearSelection();\n\n    if (isMultiTouch(e)) {\n      var current = getDeltaForTouches(e.touches);\n      this.zoom(scales, rotated, current.delta - this.multiTouchDelta, current.center);\n      this.multiTouchDelta = current.delta;\n    } else {\n      this.scroll(scales, rotated, e, pane);\n    }\n  };\n\n  ZoomAndPanBase.prototype.scroll = function (scales, rotated, e, pane) {\n    var _this = this;\n\n    var coords = getEventCoords(e, this.offset);\n    var deltaX = coords[0] - this.lastCoordinates[0];\n    var deltaY = coords[1] - this.lastCoordinates[1];\n    this.lastCoordinates = coords;\n    this.setState(function (_a, _b) {\n      var viewport = _a.viewport;\n      var onViewportChange = _b.onViewportChange,\n          interactionWithArguments = _b.interactionWithArguments,\n          interactionWithValues = _b.interactionWithValues;\n\n      if (_this.rectOrigin) {\n        return {\n          rectBox: getRect(rotated, interactionWithArguments, interactionWithValues, _this.rectOrigin, coords, pane)\n        };\n      }\n\n      return getViewport(scales, rotated, [interactionWithArguments, interactionWithValues], 'pan', [-deltaX, -deltaY], null, null, viewport, onViewportChange);\n    });\n  };\n\n  ZoomAndPanBase.prototype.handleEnd = function (scales, rotated) {\n    var _this = this;\n\n    this.lastCoordinates = null;\n    this.multiTouchDelta = null;\n\n    if (this.rectOrigin) {\n      this.setState(function (_a, _b) {\n        var viewport = _a.viewport,\n            rectBox = _a.rectBox;\n        var onViewportChange = _b.onViewportChange,\n            interactionWithArguments = _b.interactionWithArguments,\n            interactionWithValues = _b.interactionWithValues;\n        if (rectBox === null) return {};\n        _this.rectOrigin = null;\n        return __assign({\n          rectBox: null\n        }, getViewport(scales, rotated, [interactionWithArguments, interactionWithValues], 'zoom', null, null, [[rectBox.x, rectBox.x + rectBox.width], [rectBox.y, rectBox.y + rectBox.height]], viewport, onViewportChange));\n      });\n    }\n  };\n\n  ZoomAndPanBase.prototype.zoom = function (scales, rotated, delta, anchors) {\n    this.setState(function (_a, _b) {\n      var viewport = _a.viewport;\n      var onViewportChange = _b.onViewportChange,\n          interactionWithArguments = _b.interactionWithArguments,\n          interactionWithValues = _b.interactionWithValues;\n      return getViewport(scales, rotated, [interactionWithArguments, interactionWithValues], 'zoom', [delta, delta], anchors, null, viewport, onViewportChange);\n    });\n  };\n\n  ZoomAndPanBase.prototype.handleZoom = function (scales, rotated, e) {\n    e.preventDefault();\n    var center = getEventCoords(e, getOffset$1(e.currentTarget));\n    this.zoom(scales, rotated, getWheelDelta(e), center);\n  };\n\n  ZoomAndPanBase.prototype.render = function () {\n    var _this = this;\n\n    var _a = this.state,\n        viewport = _a.viewport,\n        rectBox = _a.rectBox;\n    var _b = this.props,\n        DragBoxComponent = _b.dragBoxComponent,\n        zoomRegionKey = _b.zoomRegionKey;\n\n    var getAdjustedLayout = function (_a) {\n      var domains = _a.domains,\n          ranges = _a.ranges;\n      return adjustLayout(domains, ranges, viewport);\n    };\n\n    return createElement(Plugin, {\n      name: \"zoomAndPan\"\n    }, createElement(Getter, {\n      name: \"ranges\",\n      computed: getAdjustedLayout\n    }), createElement(Template, {\n      name: \"root\"\n    }, createElement(TemplatePlaceholder, null), createElement(TemplateConnector, null, function (_a) {\n      var scales = _a.scales,\n          rotated = _a.rotated,\n          rootRef = _a.rootRef,\n          layouts = _a.layouts;\n      return createElement(ZoomPanProvider, {\n        rootRef: rootRef,\n        onWheel: function (e) {\n          return _this.handleZoom(scales, rotated, e);\n        },\n        onStart: function (e) {\n          return _this.handleStart(zoomRegionKey, e);\n        },\n        onMove: function (e) {\n          return _this.handleMove(scales, rotated, e, layouts.pane);\n        },\n        onEnd: function (e) {\n          return _this.handleEnd(scales, rotated);\n        }\n      });\n    })), createElement(Template, {\n      name: \"series\"\n    }, createElement(TemplatePlaceholder, null), rectBox ? createElement(DragBoxComponent, {\n      rect: rectBox\n    }) : null));\n  };\n\n  ZoomAndPanBase.components = {\n    dragBoxComponent: 'DragBox'\n  };\n  ZoomAndPanBase.defaultProps = {\n    interactionWithValues: 'none',\n    interactionWithArguments: 'both',\n    zoomRegionKey: 'shift'\n  };\n  return ZoomAndPanBase;\n}(PureComponent);\n\nvar ZoomAndPan = withComponents({\n  DragBox: DragBox\n})(ZoomAndPanBase);\n\nvar wrapToList = function (arg) {\n  return arg ? [arg] : [];\n};\n\nvar EVENT_NAME_TO_REACT_MAP = {\n  click: 'onClick',\n  mousemove: 'onMouseMove',\n  mouseleave: 'onMouseLeave',\n  touchstart: 'onTouchStart'\n}; // Translates event names from common space to React.\n// https://developer.mozilla.org/en-US/docs/Web/Events\n\nvar translateEventNames = function (handlers) {\n  var result = {};\n  Object.entries(handlers).forEach(function (_a) {\n    var _b = __read(_a, 2),\n        name = _b[0],\n        handler = _b[1];\n\n    result[EVENT_NAME_TO_REACT_MAP[name]] = handler;\n  });\n  return result;\n};\n\nvar EventTrackerBase = /*#__PURE__*/function (_super) {\n  __extends(EventTrackerBase, _super);\n\n  function EventTrackerBase() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  EventTrackerBase.prototype.render = function () {\n    var _a = this.props,\n        onClick = _a.onClick,\n        onPointerMove = _a.onPointerMove;\n    return createElement(Plugin, {\n      name: \"EventTracker\"\n    }, createElement(Getter, {\n      name: \"clickHandlers\",\n      value: wrapToList(onClick)\n    }), createElement(Getter, {\n      name: \"pointerMoveHandlers\",\n      value: wrapToList(onPointerMove)\n    }), createElement(Template, {\n      name: \"canvas\"\n    }, function (params) {\n      return createElement(TemplateConnector, null, function (_a) {\n        var series = _a.series,\n            clickHandlers = _a.clickHandlers,\n            pointerMoveHandlers = _a.pointerMoveHandlers;\n        var handlers = buildEventHandlers(series, {\n          clickHandlers: clickHandlers,\n          pointerMoveHandlers: pointerMoveHandlers\n        }); // TODO: Conflicts are still possible. Improve this code.\n\n        return createElement(TemplatePlaceholder, {\n          params: __assign(__assign({}, params), translateEventNames(handlers))\n        });\n      });\n    }));\n  };\n\n  return EventTrackerBase;\n}(PureComponent);\n\nvar EventTracker = EventTrackerBase;\nvar dependencies$1 = [{\n  name: 'EventTracker',\n  optional: true\n}];\n\nvar HoverStateBase = /*#__PURE__*/function (_super) {\n  __extends(HoverStateBase, _super);\n\n  function HoverStateBase(props) {\n    var _this = _super.call(this, props) || this;\n\n    _this.state = {\n      hover: props.hover || props.defaultHover\n    };\n\n    var handlePointerMove = _this.handlePointerMove.bind(_this);\n\n    _this.getPointerMoveHandlers = function (_a) {\n      var _b = _a.pointerMoveHandlers,\n          pointerMoveHandlers = _b === void 0 ? [] : _b;\n      return __spread(pointerMoveHandlers, [handlePointerMove]);\n    };\n\n    return _this;\n  }\n\n  HoverStateBase.getDerivedStateFromProps = function (props, state) {\n    return {\n      hover: props.hover !== undefined ? props.hover : state.hover\n    };\n  };\n\n  HoverStateBase.prototype.handlePointerMove = function (_a) {\n    var targets = _a.targets;\n    this.setState(function (_a, _b) {\n      var currentTarget = _a.hover;\n      var onHoverChange = _b.onHoverChange;\n      var hover = processPointerMove(targets, currentTarget, onHoverChange);\n      return hover !== undefined ? {\n        hover: hover\n      } : null;\n    });\n  };\n\n  HoverStateBase.prototype.render = function () {\n    var hover = this.state.hover; // Function has to be recreated every time as there is no other way\n    // to notify that \"series\" is updated.\n\n    var targets = hover ? [hover] : [];\n\n    var getSeries = function (_a) {\n      var series = _a.series;\n      return changeSeriesState(series, targets, HOVERED);\n    };\n\n    return createElement(Plugin, {\n      name: \"HoverState\",\n      dependencies: dependencies$1\n    }, createElement(Getter, {\n      name: \"pointerMoveHandlers\",\n      computed: this.getPointerMoveHandlers\n    }), createElement(Getter, {\n      name: \"series\",\n      computed: getSeries\n    }));\n  };\n\n  return HoverStateBase;\n}(PureComponent);\n\nvar HoverState = HoverStateBase;\n\nvar SelectionStateBase = /*#__PURE__*/function (_super) {\n  __extends(SelectionStateBase, _super);\n\n  function SelectionStateBase() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  SelectionStateBase.prototype.render = function () {\n    var selection = this.props.selection;\n    var targets = selection || [];\n\n    var getSeries = function (_a) {\n      var series = _a.series;\n      return changeSeriesState(series, targets, SELECTED);\n    };\n\n    return createElement(Plugin, {\n      name: \"SelectionState\"\n    }, createElement(Getter, {\n      name: \"series\",\n      computed: getSeries\n    }));\n  };\n\n  return SelectionStateBase;\n}(PureComponent);\n\nvar SelectionState = SelectionStateBase;\nexport { Animation, AreaSeries, ArgumentAxis, ArgumentScale, Axis, BarSeries, Chart, EventTracker, HoverState, Legend, LineSeries, Palette, PieSeries, Scale, ScatterSeries, SelectionState, SplineSeries, Stack, Title, Tooltip, ValueAxis, ValueScale, ZoomAndPan, withPatchedProps };","map":{"version":3,"mappings":"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","names":["series","BasicData","_a","data","rotated","React.createElement","Plugin","name","Getter","value","defaultDomains","getScales","domains","ranges","getSeries","scales","__extends","ChartCore","computed","React.PureComponent","_this","React.createRef","AxesLayout","ref","Template","id","style","display","flexDirection","flexGrow","TOP","TemplatePlaceholder","LEFT","RIGHT","BOTTOM","SpaceFillingRects","props","placeholders","map","key","TemplateConnector","layouts","slice","indexOf","width","Object","keys","reduce","prev","cur","includes","centerDivRef","axesExist","isPreviousDataEmpty","length","isReadyToRenderSeries","ControllerComponent","readyToRenderSeriesComputed","EXTRA_PIXELS","ClipPath","height","x","y","UpdatableSizer","onSizeChange","current","getSize","Sizer","__assign","DIV_STYLE","flex","zIndex","position","SVG_STYLE","left","top","overflow","SizerContainer","children","forwardedRef","numDefs","getUniqueId","PaneLayout","clipPathId","_b","changeBBox","pane","containerComponent","placeholder","bBox","size","params","doGetRanges","_super","state","bBoxes","stateHelper","createStateHelper","applyFieldReducer","bind","LayoutManager","Root","restProps","stateBBoxes","Action","action","ComponentLayout","PaletteBase","scheme","Palette","Label","RawChart","rootComponent","PluginHost","Chart","withComponents","Marker","color","fill","r","cx","cy","RawLegend","MarkerComponent","Item","getItems","getters","text","itemComponent","markerComponent","labelComponent","Legend","TitleBase","Text","textComponent","Title","declareSeries","pluginName","components","getPointTransformer","createHitTester","Component","argumentField","valueField","scaleName","seriesComponent","pointComponent","symbolName","Symbol","seriesItem","palette","getDomains","findSeriesByName","animation","readyToRenderSeries","currentSeries","currentScales","argScale","ARGUMENT_DOMAIN","valScale","getValueDomainName","Path","index","coordinates","points","Point","withPatchedProps","patch","Target","Scale","factory","modifyDomain","args","ArgumentScale","ValueScale","StackBase","stacks","offset","order","stackOffsetDiverging","stackOrderNone","Stack","AnimationBase","easing","duration","buildAnimationGetter","easeOutCubic","Animation","withStates","states","ComponentWithStates","stateFunc","result","React.isValidElement","Pattern","opacity","patternUnits","d","strokeWidth","stroke","withPattern","getPatternId","targetProps","patternId","React.Fragment","withAnimation","processAnimation","getProps","getStartCoordinates","isValuesChanged","getDelay","setAttribute","ComponentWithAnimation","setState","processComponent","prevProps","prevScales","animate","isScalesChanged","delay","update","stop","RawArea","path","dPath","undefined","dRotateArea","dArea","clipPath","Area","processAreaAnimation","getPathStart","isCoordinatesChanged","HOVERED","SELECTED","AreaSeries","PointCollection","String","point","seriesIndex","RawBar","arg","val","startVal","barWidth","maxBarWidth","argument","bar","dBar","visibility","getVisibility","adjustedBar","adjustBarSize","Bar","processBarAnimation","getPointStart","BarSeries","defaultProps","RawPath","processLineAnimation","Line","dRotateLine","dLine","LineSeries","RawSlice","maxRadius","innerRadius","outerRadius","startAngle","endAngle","transform","dPie","Slice","processPieAnimation","getPieStart","PieSeries","RawPoint","pointOptions","dSymbol","getAdjustedOptions","Math","round","processPointAnimation","ScatterSeries","Spline","dRotateSpline","dSpline","SplineSeries","getOffset","delta","adjust","_","dx","dy","bbox","getBBox","x1","x2","y1","y2","RawAxis","tickSize","tickFormat","indentFromAxis","showTicks","showLine","showLabels","RootComponent","TickComponent","LabelComponent","LineComponent","layoutName","isValidPosition","scale","paneSize","getTickCoordinates","callback","tickCoordinatesGetter","_e","ticks","handleSizeChange","rect","rootRef","getBoundingClientRect","rectSize","adjustedWidth","adjustedHeight","xText","yText","textAnchor","showGrid","GridComponent","gridCoordinatesGetter","_d","rotatedPosition","getRotatedPosition","renderAxis","renderGrid","tickComponent","lineComponent","gridComponent","Axis","Tick","Grid","ArgumentAxis","ValueAxis","dependencies","optional","target","targetItem","defaultTargetItem","handlePointerMove","getPointerMoveHandlers","pointerMoveHandlers","TooltipBase","targets","currentTarget","onTargetItemChange","processHandleTooltip","OverlayComponent","ContentComponent","SheetComponent","arrowComponent","getParameters","element","createReference","overlayComponent","contentComponent","sheetComponent","Tooltip","DragBox","events","wheel","func","mousedown","extraEvents","touchstart","ZoomPanProvider","svgElement","setCursorType","windowHandlers","event","onMove","onEnd","detachEvents","window","handlers","e","attachEvents","forEach","el","viewport","defaultViewport","rectBox","ZoomAndPanBase","zoomRegionKey","preventDefault","coords","getEventCoords","isKeyPressed","rectOrigin","isMultiTouch","multiTouchDelta","getDeltaForTouches","touches","lastCoordinates","clearSelection","zoom","center","scroll","deltaX","deltaY","onViewportChange","interactionWithArguments","interactionWithValues","getRect","getViewport","anchors","getWheelDelta","DragBoxComponent","getAdjustedLayout","onWheel","handleZoom","onStart","handleStart","handleMove","handleEnd","dragBoxComponent","ZoomAndPan","wrapToList","EVENT_NAME_TO_REACT_MAP","click","mousemove","mouseleave","translateEventNames","entries","handler","EventTrackerBase","onClick","onPointerMove","clickHandlers","buildEventHandlers","EventTracker","hover","defaultHover","HoverStateBase","onHoverChange","processPointerMove","HoverState","SelectionStateBase","selection","SelectionState"],"sources":["/home/note/Lucas/bankpayapp2/node_modules/@devexpress/dx-react-chart/src/plugins/basic-data.tsx","/home/note/Lucas/bankpayapp2/node_modules/@devexpress/dx-react-chart/src/plugins/chart-core.tsx","/home/note/Lucas/bankpayapp2/node_modules/@devexpress/dx-react-chart/src/plugins/axes-layout.tsx","/home/note/Lucas/bankpayapp2/node_modules/@devexpress/dx-react-chart/src/plugins/space-filling-rects.tsx","/home/note/Lucas/bankpayapp2/node_modules/@devexpress/dx-react-chart/src/plugins/controller-component.tsx","/home/note/Lucas/bankpayapp2/node_modules/@devexpress/dx-react-chart/src/templates/clip-path.tsx","/home/note/Lucas/bankpayapp2/node_modules/@devexpress/dx-react-chart/src/utils/updatable-sizer.tsx","/home/note/Lucas/bankpayapp2/node_modules/@devexpress/dx-react-chart/src/plugins/pane-layout.tsx","/home/note/Lucas/bankpayapp2/node_modules/@devexpress/dx-react-chart/src/plugins/layout-manager.tsx","/home/note/Lucas/bankpayapp2/node_modules/@devexpress/dx-react-chart/src/plugins/component-layout.tsx","/home/note/Lucas/bankpayapp2/node_modules/@devexpress/dx-react-chart/src/plugins/palette.tsx","/home/note/Lucas/bankpayapp2/node_modules/@devexpress/dx-react-chart/src/templates/layout.tsx","/home/note/Lucas/bankpayapp2/node_modules/@devexpress/dx-react-chart/src/templates/label.tsx","/home/note/Lucas/bankpayapp2/node_modules/@devexpress/dx-react-chart/src/chart.tsx","/home/note/Lucas/bankpayapp2/node_modules/@devexpress/dx-react-chart/src/templates/legend/marker.tsx","/home/note/Lucas/bankpayapp2/node_modules/@devexpress/dx-react-chart/src/plugins/legend.tsx","/home/note/Lucas/bankpayapp2/node_modules/@devexpress/dx-react-chart/src/plugins/title.tsx","/home/note/Lucas/bankpayapp2/node_modules/@devexpress/dx-react-chart/src/utils/series-helper.tsx","/home/note/Lucas/bankpayapp2/node_modules/@devexpress/dx-react-chart/src/utils/patch-props.tsx","/home/note/Lucas/bankpayapp2/node_modules/@devexpress/dx-react-chart/src/plugins/scale.tsx","/home/note/Lucas/bankpayapp2/node_modules/@devexpress/dx-react-chart/src/plugins/stack.tsx","/home/note/Lucas/bankpayapp2/node_modules/@devexpress/dx-react-chart/src/plugins/animation.tsx","/home/note/Lucas/bankpayapp2/node_modules/@devexpress/dx-react-chart/src/utils/with-states.tsx","/home/note/Lucas/bankpayapp2/node_modules/@devexpress/dx-react-chart/src/templates/pattern.tsx","/home/note/Lucas/bankpayapp2/node_modules/@devexpress/dx-react-chart/src/utils/with-pattern.tsx","/home/note/Lucas/bankpayapp2/node_modules/@devexpress/dx-react-chart/src/utils/with-animation.tsx","/home/note/Lucas/bankpayapp2/node_modules/@devexpress/dx-react-chart/src/templates/series/area.tsx","/home/note/Lucas/bankpayapp2/node_modules/@devexpress/dx-react-chart/src/plugins/area-series.tsx","/home/note/Lucas/bankpayapp2/node_modules/@devexpress/dx-react-chart/src/templates/series/point-collection.tsx","/home/note/Lucas/bankpayapp2/node_modules/@devexpress/dx-react-chart/src/templates/series/bar.tsx","/home/note/Lucas/bankpayapp2/node_modules/@devexpress/dx-react-chart/src/plugins/bar-series.tsx","/home/note/Lucas/bankpayapp2/node_modules/@devexpress/dx-react-chart/src/templates/series/path.tsx","/home/note/Lucas/bankpayapp2/node_modules/@devexpress/dx-react-chart/src/templates/series/line.tsx","/home/note/Lucas/bankpayapp2/node_modules/@devexpress/dx-react-chart/src/plugins/line-series.tsx","/home/note/Lucas/bankpayapp2/node_modules/@devexpress/dx-react-chart/src/templates/series/slice.tsx","/home/note/Lucas/bankpayapp2/node_modules/@devexpress/dx-react-chart/src/plugins/pie-series.tsx","/home/note/Lucas/bankpayapp2/node_modules/@devexpress/dx-react-chart/src/templates/series/point.tsx","/home/note/Lucas/bankpayapp2/node_modules/@devexpress/dx-react-chart/src/plugins/scatter-series.tsx","/home/note/Lucas/bankpayapp2/node_modules/@devexpress/dx-react-chart/src/templates/series/spline.tsx","/home/note/Lucas/bankpayapp2/node_modules/@devexpress/dx-react-chart/src/plugins/spline-series.tsx","/home/note/Lucas/bankpayapp2/node_modules/@devexpress/dx-react-chart/src/templates/axis/root.tsx","/home/note/Lucas/bankpayapp2/node_modules/@devexpress/dx-react-chart/src/templates/axis/label.tsx","/home/note/Lucas/bankpayapp2/node_modules/@devexpress/dx-react-chart/src/templates/axis/line.tsx","/home/note/Lucas/bankpayapp2/node_modules/@devexpress/dx-react-chart/src/plugins/axis.tsx","/home/note/Lucas/bankpayapp2/node_modules/@devexpress/dx-react-chart/src/plugins/tooltip.tsx","/home/note/Lucas/bankpayapp2/node_modules/@devexpress/dx-react-chart/src/templates/drag-box.tsx","/home/note/Lucas/bankpayapp2/node_modules/@devexpress/dx-react-chart/src/plugins/zoom-and-pan.tsx","/home/note/Lucas/bankpayapp2/node_modules/@devexpress/dx-react-chart/src/plugins/event-tracker.tsx","/home/note/Lucas/bankpayapp2/node_modules/@devexpress/dx-react-chart/src/plugins/hover-state.tsx","/home/note/Lucas/bankpayapp2/node_modules/@devexpress/dx-react-chart/src/plugins/selection-state.tsx"],"sourcesContent":["import * as React from 'react';\nimport { Plugin, Getter } from '@devexpress/dx-react-core';\nimport { defaultDomains } from '@devexpress/dx-chart-core';\nimport { BasicDataProps } from '../types';\n\nconst series = [];\n\nexport const BasicData: React.SFC<BasicDataProps> = ({ data, rotated }) => (\n  <Plugin name=\"Basis\">\n    <Getter name=\"data\" value={data} />\n    <Getter name=\"domains\" value={defaultDomains} />\n    <Getter name=\"series\" value={series} />\n    <Getter name=\"rotated\" value={rotated} />\n  </Plugin>\n);\n","import * as React from 'react';\nimport { Plugin, Getter, Getters } from '@devexpress/dx-react-core';\nimport { buildScales, scaleSeriesPoints } from '@devexpress/dx-chart-core';\n\nconst getScales = ({ domains, ranges }: Getters) => buildScales(domains, ranges);\n\nconst getSeries = ({\n  series, scales, rotated,\n}: Getters) => scaleSeriesPoints(series, scales, rotated);\n\nexport class ChartCore extends React.PureComponent {\n  render() {\n    return (\n      <Plugin>\n        <Getter name=\"scales\" computed={getScales} />\n        <Getter name=\"series\" computed={getSeries} />\n      </Plugin>\n    );\n  }\n}\n","import * as React from 'react';\nimport {\n  TOP, BOTTOM, LEFT, RIGHT,\n} from '@devexpress/dx-chart-core';\nimport { Plugin, Template, TemplatePlaceholder, Getter } from '@devexpress/dx-react-core';\n\nexport class AxesLayout extends React.PureComponent {\n  ref = React.createRef<HTMLDivElement>();\n  render() {\n    return (\n      <Plugin>\n        <Getter name=\"centerDivRef\" value={this.ref} />\n        <Template name=\"canvas\">\n          <div\n            id=\"center-center\"\n            ref={this.ref}\n            style={{ display: 'flex', flexDirection: 'column', flexGrow: 1 }}\n          >\n            <div id={`${TOP}-axis-container`} style={{ display: 'flex', flexDirection: 'row' }}>\n              <TemplatePlaceholder name={`${TOP}-${LEFT}-axis`} />\n              <TemplatePlaceholder name={`${TOP}-axis`} />\n              <TemplatePlaceholder name={`${TOP}-${RIGHT}-axis`} />\n            </div>\n            <div\n              id=\"center-axis-container\"\n              style={{ display: 'flex', flexDirection: 'row', flexGrow: 1 }}\n            >\n              <TemplatePlaceholder name={`${LEFT}-axis`} />\n              <TemplatePlaceholder />\n              <TemplatePlaceholder name={`${RIGHT}-axis`} />\n            </div>\n            <div id={`${BOTTOM}-axis-container`} style={{ display: 'flex', flexDirection: 'row' }}>\n              <TemplatePlaceholder name={`${BOTTOM}-${LEFT}-axis`} />\n              <TemplatePlaceholder name={`${BOTTOM}-axis`} />\n              <TemplatePlaceholder name={`${BOTTOM}-${RIGHT}-axis`} />\n            </div>\n          </div>\n        </Template>\n      </Plugin>\n    );\n  }\n}\n","import * as React from 'react';\nimport { Plugin, Template, TemplateConnector } from '@devexpress/dx-react-core';\nimport { SpaceFillingRectsProps, BBoxes } from '../types';\n\nexport class SpaceFillingRects extends React.PureComponent<SpaceFillingRectsProps> {\n  render() {\n    const { placeholders } = this.props;\n    return (\n      <Plugin name=\"SpaceFillingRects\">\n        {placeholders.map(name => (\n          <Template name={name} key={name}>\n            <TemplateConnector>\n              {({ layouts }) => {\n                const key = name.slice(name.indexOf('-') + 1);\n                const width = Object.keys(layouts as BBoxes).reduce((prev, cur) => {\n                  if (cur.includes(key)) {\n                    return prev + layouts[cur].width;\n                  }\n                  return prev;\n                }, 0);\n                return <div id={name} style={{ width }} />;\n              }}\n            </TemplateConnector>\n          </Template>\n        ))}\n      </Plugin>\n    );\n  }\n}\n","import * as React from 'react';\nimport { Plugin, Getter, Getters } from '@devexpress/dx-react-core';\nimport { isReadyToRenderSeries } from '@devexpress/dx-chart-core';\n\nexport class ControllerComponent extends React.PureComponent {\n  isPreviousDataEmpty: boolean = true;\n\n  readyToRenderSeriesComputed = ({\n    layouts, centerDivRef, data, axesExist,\n  }: Getters) => {\n    const isPreviousDataEmpty = this.isPreviousDataEmpty;\n    this.isPreviousDataEmpty = !data.length;\n    return isReadyToRenderSeries(layouts, centerDivRef, isPreviousDataEmpty, !!axesExist);\n  }\n\n  render () {\n    return (\n    <Plugin name=\"ControllerComponent\">\n      <Getter name=\"readyToRenderSeries\" computed={this.readyToRenderSeriesComputed} />\n    </Plugin>\n    );\n  }\n}\n","import * as React from 'react';\nimport { ClipPathProps } from '../types';\n\nconst EXTRA_PIXELS = 2;\n\nexport class ClipPath extends React.PureComponent<ClipPathProps> {\n  render() {\n    const {\n      id, width, height,\n    } = this.props;\n    return (\n      <defs>\n        <clipPath id={id}>\n          <rect\n            x={-EXTRA_PIXELS / 2}\n            y={-EXTRA_PIXELS / 2}\n            width={width + EXTRA_PIXELS}\n            height={height + EXTRA_PIXELS}\n          />\n        </clipPath>\n      </defs>\n    );\n  }\n}\n","import * as React from 'react';\nimport { Sizer, SizerProps } from '@devexpress/dx-react-core';\n\n// It is located in a separate file only for testing purpose -\n// it should actually be placed next to PaneLayout.\nexport class UpdatableSizer extends React.PureComponent<SizerProps> {\n  ref = React.createRef<Sizer>();\n\n  componentDidUpdate() {\n    this.props.onSizeChange(this.ref.current!.getSize());\n  }\n\n  render() {\n    return <Sizer ref={this.ref} {...this.props} />;\n  }\n}\n","import * as React from 'react';\nimport {\n  Plugin,\n  Getter,\n  Template,\n  TemplateConnector,\n  TemplatePlaceholder,\n} from '@devexpress/dx-react-core';\nimport { ClipPath } from '../templates/clip-path';\n\n// Original *Sizer* cannot be used because it ignores (as it should do) *forceUpdate* request.\n// *UpdatableSizer* implements *componentDidUpdate* and forces internal *Sizer* size calculation.\n// It allows to run chart size recalculation by calling *forceUpdate* on chart instance.\nimport { UpdatableSizer } from '../utils/updatable-sizer';\n\nconst DIV_STYLE: React.CSSProperties = {\n  flex: 1, zIndex: 1, position: 'relative', width: '100%',\n};\n\nconst SVG_STYLE: React.CSSProperties = {\n  position: 'absolute', left: 0, top: 0, overflow: 'visible',\n};\n\nconst SizerContainer = ({ children, forwardedRef }) => (\n  <div ref={forwardedRef} style={DIV_STYLE}>{children}</div>\n);\n\nlet numDefs = 0;\nconst getUniqueId = () => {\n  numDefs += 1;\n  return numDefs;\n};\nexport class PaneLayout extends React.PureComponent {\n  ref = React.createRef<SVGSVGElement>();\n  clipPathId = `clip_path_${getUniqueId()}`;\n\n  render() {\n    return (\n      <Plugin name=\"PaneLayout\">\n        <Getter name=\"rootRef\" value={this.ref} />\n        <Getter name=\"clipPathId\" value={this.clipPathId} />\n        <Template name=\"canvas\">\n        {params => (\n          <TemplateConnector>\n            {({ layouts }, { changeBBox }) => {\n              const { width, height } = layouts.pane;\n              return (\n                <UpdatableSizer\n                  containerComponent={SizerContainer}\n                  onSizeChange={size => changeBBox({ placeholder: 'pane', bBox: size })}\n                >\n                  <svg\n                    ref={this.ref}\n                    {...params}\n                    width={width}\n                    height={height}\n                    style={SVG_STYLE}\n                  >\n                    <ClipPath id={this.clipPathId} width={width} height={height} />\n                    <TemplatePlaceholder name=\"series\" />\n                  </svg>\n                </UpdatableSizer>\n              );\n            }}\n          </TemplateConnector>\n          )}\n        </Template>\n      </Plugin>\n    );\n  }\n}\n","import * as React from 'react';\nimport {\n  Plugin,\n  Getter,\n  Action,\n  Template,\n  TemplatePlaceholder,\n  createStateHelper,\n  Getters,\n  ActionFn,\n} from '@devexpress/dx-react-core';\nimport { bBoxes, getRanges } from '@devexpress/dx-chart-core';\nimport { LayoutManagerProps, LayoutManagerState, BBoxesChange } from '../types';\n\nconst doGetRanges = ({ layouts, rotated }: Getters) => getRanges(layouts.pane, rotated);\n\nexport class LayoutManager extends React.PureComponent<LayoutManagerProps, LayoutManagerState> {\n  static defaultProps: Partial<LayoutManagerProps> = {\n    width: 0,\n  };\n  changeBBox: ActionFn<BBoxesChange>;\n\n  constructor(props: LayoutManagerProps) {\n    super(props);\n\n    this.state = { bBoxes: { pane: { width: 0, height: 0 } } };\n\n    const stateHelper = createStateHelper(this);\n    this.changeBBox = stateHelper.applyFieldReducer.bind(\n      stateHelper,\n      'bBoxes',\n      bBoxes,\n    );\n  }\n\n  render() {\n    const {\n      width, height, rootComponent: Root, ...restProps\n    } = this.props;\n    const { bBoxes: stateBBoxes } = this.state;\n\n    return (\n      <Plugin>\n        <Getter name=\"layouts\" value={stateBBoxes} />\n        <Getter name=\"ranges\" computed={doGetRanges} />\n        <Action name=\"changeBBox\" action={this.changeBBox} />\n\n        <Template name=\"root\">\n          <Root\n            width={width!}\n            height={height}\n            {...restProps}\n          >\n            <TemplatePlaceholder name=\"canvas\" />\n          </Root>\n        </Template>\n      </Plugin>\n    );\n  }\n}\n","import * as React from 'react';\nimport {\n  TOP, BOTTOM, LEFT, RIGHT,\n} from '@devexpress/dx-chart-core';\nimport { Plugin, Template, TemplatePlaceholder } from '@devexpress/dx-react-core';\n\nexport const ComponentLayout: React.SFC = () => (\n  <Plugin name=\"ComponentLayout\">\n    <Template name=\"canvas\">\n      <div id={`${TOP}-container`} style={{ display: 'flex', flexDirection: 'row' }}>\n        <TemplatePlaceholder name={`${TOP}-${LEFT}`} />\n        <TemplatePlaceholder name={TOP} />\n        <TemplatePlaceholder name={`${TOP}-${RIGHT}`} />\n      </div>\n      <div id=\"center-container\" style={{ display: 'flex', flexDirection: 'row', flexGrow: 1 }}>\n        <TemplatePlaceholder name={LEFT} />\n        <TemplatePlaceholder />\n        <TemplatePlaceholder name={RIGHT} />\n      </div>\n      <div id={`${BOTTOM}-container`} style={{ display: 'flex', flexDirection: 'row' }}>\n        <TemplatePlaceholder name={`${BOTTOM}-${LEFT}`} />\n        <TemplatePlaceholder name={BOTTOM} />\n        <TemplatePlaceholder name={`${BOTTOM}-${RIGHT}`} />\n      </div>\n    </Template>\n  </Plugin>\n);\n","import * as React from 'react';\nimport { Plugin, Getter } from '@devexpress/dx-react-core';\nimport { PaletteProps } from '../types';\n\nclass PaletteBase extends React.PureComponent<PaletteProps> {\n  render() {\n    const { scheme } = this.props;\n    return (\n      <Plugin name=\"Palette\">\n        <Getter name=\"palette\" value={scheme} />\n      </Plugin>\n    );\n  }\n}\n\nexport const Palette: React.ComponentType<PaletteProps> = PaletteBase;\n","import * as React from 'react';\nimport { RootLayoutProps } from '../types';\n\nexport class Root extends React.PureComponent<RootLayoutProps> {\n  render() {\n    const {\n      children, width, height, style, ...restProps\n    } = this.props;\n\n    return (\n      <div\n        style={{\n          ...style,\n          height: `${height}px`,\n          ...width ? { width: `${width}px` } : null,\n        }}\n        {...restProps}\n      >\n        {children}\n      </div>\n    );\n  }\n}\n","import * as React from 'react';\nimport { Chart } from '../types';\n\nexport class Label extends React.PureComponent<Chart.LabelProps> {\n  render() {\n    return (\n      <text {...this.props} />\n    );\n  }\n}\n","import * as React from 'react';\nimport { PluginHost, withComponents, PluginComponents } from '@devexpress/dx-react-core';\nimport {\n  TOP, BOTTOM, LEFT, RIGHT,\n} from '@devexpress/dx-chart-core';\nimport { ChartProps } from './types';\n\nimport { BasicData } from './plugins/basic-data';\nimport { ChartCore } from './plugins/chart-core';\nimport { AxesLayout } from './plugins/axes-layout';\nimport { SpaceFillingRects } from './plugins/space-filling-rects';\nimport { ControllerComponent } from './plugins/controller-component';\nimport { PaneLayout } from './plugins/pane-layout';\nimport { LayoutManager } from './plugins/layout-manager';\nimport { ComponentLayout } from './plugins/component-layout';\nimport { Palette } from './plugins/palette';\nimport { Root } from './templates/layout';\nimport { Label } from './templates/label';\n\nconst scheme = [];\nconst placeholders = [\n  `${TOP}-${LEFT}`,\n  `${TOP}-${RIGHT}`,\n  `${BOTTOM}-${LEFT}`,\n  `${BOTTOM}-${RIGHT}`,\n  `${TOP}-${LEFT}-axis`,\n  `${TOP}-${RIGHT}-axis`,\n  `${BOTTOM}-${LEFT}-axis`,\n  `${BOTTOM}-${RIGHT}-axis`,\n];\n\nclass RawChart extends React.PureComponent<ChartProps> {\n  static defaultProps: Partial<ChartProps> = {\n    height: 500,\n    rotated: false,\n  };\n  static components: PluginComponents = {\n    rootComponent: 'Root',\n  };\n\n  render() {\n    const {\n      data,\n      width,\n      height,\n      children,\n      rotated,\n      rootComponent,\n      ...restProps\n    } = this.props;\n    return ((\n      <PluginHost>\n        <BasicData data={data} rotated={rotated!} />\n        <Palette scheme={scheme} />\n        <LayoutManager\n          width={width}\n          height={height!}\n          rootComponent={rootComponent}\n          {...restProps}\n        />\n        <PaneLayout />\n        <AxesLayout />\n        <ComponentLayout />\n        <SpaceFillingRects placeholders={placeholders} />\n        {children}\n        <ControllerComponent />\n        <ChartCore />\n      </PluginHost>\n    ));\n  }\n}\n\nexport const Chart: React.ComponentType<ChartProps> = withComponents({ Root })(RawChart);\n(Chart as any).Label = Label;\n","import * as React from 'react';\nimport { Legend } from '../../types';\n\nexport class Marker extends React.PureComponent<Legend.MarkerProps> {\n  render() {\n    const { color, ...restProps } = this.props;\n    return (\n      <svg fill={color} width=\"10\" height=\"10\" {...restProps}>\n        <circle r={5} cx={5} cy={5} {...restProps} />\n      </svg>\n    );\n  }\n}\n","import * as React from 'react';\nimport {\n  Plugin,\n  TemplateConnector,\n  Template,\n  TemplatePlaceholder,\n  withComponents,\n  Getters,\n  PluginComponents,\n} from '@devexpress/dx-react-core';\nimport { getLegendItems } from '@devexpress/dx-chart-core';\nimport { Marker } from '../templates/legend/marker';\nimport { LegendProps } from '../types';\n\nclass RawLegend extends React.PureComponent<LegendProps> {\n  static defaultProps: Partial<LegendProps> = {\n    position: 'right',\n    getItems: ({ series }: Getters) => getLegendItems(series),\n  };\n  static components: PluginComponents = {\n    rootComponent: 'Root',\n    itemComponent: 'Item',\n    markerComponent: 'Marker',\n    labelComponent: 'Label',\n  };\n\n  render() {\n    const {\n      markerComponent: MarkerComponent,\n      labelComponent: Label,\n      rootComponent: Root,\n      itemComponent: Item,\n      position,\n      getItems,\n    } = this.props;\n    const placeholder = position!;\n    return (\n      <Plugin name=\"Legend\">\n        <Template name={placeholder}>\n          <TemplatePlaceholder />\n          <TemplateConnector>\n            {getters => (\n              <Root name={`legend-${placeholder}`}>\n                {getItems!(getters).map(({ text, color }) => (\n                  <Item key={text}>\n                    <MarkerComponent name={text} color={color} />\n                    <Label text={text} />\n                  </Item>\n                ))}\n              </Root>\n            )}\n          </TemplateConnector>\n        </Template>\n      </Plugin>\n    );\n  }\n}\n\nexport const Legend: React.ComponentType<LegendProps> = withComponents({ Marker })(RawLegend);\n","import * as React from 'react';\n\nimport {\n  Plugin,\n  Template,\n  TemplatePlaceholder,\n  PluginComponents,\n} from '@devexpress/dx-react-core';\nimport { TitleProps } from '../types';\n\nclass TitleBase extends React.PureComponent<TitleProps> {\n  static components: PluginComponents = {\n    textComponent: 'Text',\n  };\n  static defaultProps: Partial<TitleProps> = {\n    position: 'top',\n  };\n\n  render() {\n    const {\n      textComponent: Text,\n      text,\n      position,\n    } = this.props;\n    const placeholder = position!;\n    return (\n      <Plugin name=\"Title\">\n        <Template name={placeholder}>\n          <TemplatePlaceholder />\n          <Text text={text} />\n        </Template>\n      </Plugin>\n    );\n  }\n}\nexport const Title: React.ComponentType<TitleProps> = TitleBase;\n","import * as React from 'react';\nimport {\n  Template,\n  Plugin,\n  Getter,\n  TemplatePlaceholder,\n  TemplateConnector,\n  withComponents,\n  Getters,\n  PluginComponents,\n} from '@devexpress/dx-react-core';\nimport {\n  findSeriesByName, addSeries, extendDomains, getValueDomainName, ARGUMENT_DOMAIN,\n} from '@devexpress/dx-chart-core';\nimport {\n  ExtraSeriesParameters, SeriesProps, PathComponentProps, Scales,\n} from '../types';\n\n/** @internal */\nexport const declareSeries = <T extends SeriesProps>(\n  pluginName: string,\n  { components, getPointTransformer, createHitTester }: ExtraSeriesParameters,\n): React.ComponentType<T> => {\n  class Component extends React.PureComponent<T> {\n    static components: PluginComponents;\n    static defaultProps: Partial<SeriesProps> = {\n      name: 'defaultSeriesName',\n    };\n\n    render() {\n      const {\n        name,\n        argumentField,\n        valueField,\n        scaleName,\n        seriesComponent,\n        pointComponent,\n        color,\n        ...restProps\n      } = this.props;\n      const symbolName = Symbol(name);\n      const seriesItem = {\n        getPointTransformer,\n        createHitTester,\n        ...this.props,\n        symbolName,\n      };\n      const getSeries = ({\n        series,\n        data,\n        palette,\n      }: Getters) => addSeries(series, data, palette, seriesItem, restProps);\n      const getDomains = ({\n        series,\n        domains,\n      }: Getters) => extendDomains(domains, findSeriesByName(symbolName, series));\n      return (\n        <Plugin name={pluginName}>\n          <Getter name=\"series\" computed={getSeries} />\n          <Getter name=\"domains\" computed={getDomains} />\n          <Template name=\"series\">\n            <TemplatePlaceholder />\n            <TemplateConnector>\n              {({\n                series, scales, animation, rotated, layouts, clipPathId, readyToRenderSeries,\n              }) => {\n                const { pane } = layouts;\n                const currentSeries = findSeriesByName(symbolName, series);\n                const currentScales: Scales = {\n                  argScale: scales[ARGUMENT_DOMAIN],\n                  valScale: scales[getValueDomainName(currentSeries!.scaleName)],\n                };\n                const Path: React.ComponentType<PathComponentProps> =\n                  currentSeries.seriesComponent as any;\n                return (\n                  <Path\n                    index={currentSeries.index}\n                    pointComponent={currentSeries.pointComponent}\n                    coordinates={currentSeries.points as any}\n                    rotated={rotated}\n                    state={currentSeries.state}\n                    color={currentSeries.color}\n                    scales={currentScales}\n                    pane={pane}\n                    clipPathId={clipPathId}\n                    animation={animation}\n                    readyToRenderSeries={readyToRenderSeries}\n                  />\n                );\n              }}\n            </TemplateConnector>\n          </Template>\n        </Plugin>\n      );\n    }\n  }\n  Component.components = {};\n  if (components.Path) {\n    Component.components.seriesComponent = 'Path';\n  }\n  if (components.Point) {\n    Component.components.pointComponent = 'Point';\n  }\n  return withComponents(components)(Component);\n};\n","import * as React from 'react';\nimport { ITargetComponent } from '@devexpress/dx-react-core';\nimport { CommonComponentProps } from '@devexpress/dx-chart-core';\nimport { RawAxisProps, ScaleProps } from '../types';\n\n/** @internal */\nexport const withPatchedProps = (\n  patch: <T extends CommonComponentProps | RawAxisProps | ScaleProps>(props: T) => T,\n) => <K extends CommonComponentProps | RawAxisProps | ScaleProps>(\n  Target: React.ComponentType<K>,\n): React.ComponentType<K> => {\n  class Component extends React.PureComponent<K> {\n    static components = (Target as any as ITargetComponent).components;\n\n    render() {\n      const props = patch(this.props as K);\n      return <Target {...props} />;\n    }\n  }\n  return Component;\n};\n","import * as React from 'react';\nimport { Plugin, Getter, Getters } from '@devexpress/dx-react-core';\nimport { ARGUMENT_DOMAIN, getValueDomainName, addDomain } from '@devexpress/dx-chart-core';\nimport { withPatchedProps } from '../utils';\nimport { ScaleProps, ArgumentScaleProps, ValueScaleProps } from '../types';\n\n/** @internal */\nexport class Scale extends React.PureComponent<ScaleProps> {\n  render() {\n    const { name, factory, modifyDomain } = this.props;\n    const args = { factory, modifyDomain };\n    const getDomains = ({ domains }: Getters) => addDomain(domains, name!, args);\n    return (\n      <Plugin name=\"Scale\">\n        <Getter name=\"domains\" computed={getDomains} />\n      </Plugin>\n    );\n  }\n}\n\nexport const ArgumentScale: React.ComponentType<ArgumentScaleProps> = withPatchedProps(props => ({\n  ...props,\n  name: ARGUMENT_DOMAIN,\n}))(Scale);\n\nexport const ValueScale: React.ComponentType<ValueScaleProps> = withPatchedProps(props => ({\n  ...props,\n  name: getValueDomainName((props as ScaleProps).name),\n}))(Scale);\n","import * as React from 'react';\nimport { Plugin, Getter, Getters } from '@devexpress/dx-react-core';\nimport { getStackedSeries, getStackedDomains } from '@devexpress/dx-chart-core';\nimport { StackProps, StacksOptions, OffsetFn, OrderFn } from '../types';\nimport {\n  stackOrderNone,\n  stackOffsetDiverging,\n} from 'd3-shape';\n\nconst getDomains = ({ domains, series }: Getters) => getStackedDomains(domains, series);\n\nclass StackBase extends React.PureComponent<StackProps> {\n  static defaultProps: Partial<StackProps> = {\n    stacks: [],\n    offset: stackOffsetDiverging as OffsetFn,\n    order: stackOrderNone as OrderFn,\n  };\n\n  render() {\n    const { stacks, offset, order } = this.props;\n    const params: StacksOptions = {\n      stacks: stacks!,\n      offset: offset!,\n      order: order!,\n    };\n    const getSeries = ({ series, data }: Getters) => getStackedSeries(series, data, params);\n    return (\n      <Plugin name=\"Stack\">\n        <Getter name=\"series\" computed={getSeries} />\n        <Getter name=\"domains\" computed={getDomains} />\n      </Plugin>\n    );\n  }\n}\n\nexport const Stack: React.ComponentType<StackProps> = StackBase;\n","import * as React from 'react';\nimport { Plugin, Getter } from '@devexpress/dx-react-core';\nimport { buildAnimation, easeOutCubic } from '@devexpress/dx-chart-core';\nimport { AnimationProps } from '../types';\n\nclass AnimationBase extends React.PureComponent<AnimationProps> {\n  static defaultProps: Partial<AnimationProps> = {\n    easing: easeOutCubic,\n    duration: 1000,\n  };\n  render() {\n    const { easing, duration } = this.props;\n    const buildAnimationGetter = () => buildAnimation(easing!, duration!);\n    return (\n      <Plugin name=\"Animation\">\n        <Getter name=\"animation\" computed={buildAnimationGetter} />\n      </Plugin>\n    );\n  }\n}\n\nexport const Animation: React.ComponentType<AnimationProps> = AnimationBase;\n","import * as React from 'react';\nimport { CommonComponentProps } from '@devexpress/dx-chart-core';\n\nexport const withStates = (\n  states: { readonly [key: string]: (props: any) => any; },\n) => <K extends CommonComponentProps>(\n  Component: React.ComponentType<K>,\n): React.ComponentType<K> => {\n  class ComponentWithStates extends React.PureComponent<K> {\n    render() {\n      const { state, ...restProps } = this.props;\n      const stateFunc = state && states[state!];\n      const result = stateFunc ? stateFunc(restProps) : restProps;\n      return React.isValidElement(result) ? result : <Component {...result} />;\n    }\n  }\n  return ComponentWithStates;\n};\n","import * as React from 'react';\nimport { PatternProps } from '../types';\n\nexport class Pattern extends React.PureComponent<PatternProps> {\n  static defaultProps: Partial<PatternProps> = {\n    size: 6,\n    opacity: 0.75,\n  };\n\n  render() {\n    const {\n      id, size, color, opacity,\n    } = this.props;\n    return (\n      <defs>\n        <pattern\n          id={id}\n          width={size}\n          height={size}\n          patternUnits=\"userSpaceOnUse\"\n        >\n          <rect x={0} y={0} width={size} height={size} fill={color} opacity={opacity} />\n          <path\n            // tslint:disable-next-line: max-line-length\n            d={`M ${size! / 2} ${-size! / 2} L ${-size! / 2} ${size! / 2} M 0 ${size!} L ${size!} 0 M ${size! * 1.5} ${size! / 2} L ${size! / 2} ${size! * 1.5}`}\n            strokeWidth={2}\n            stroke={color}\n          />\n        </pattern>\n      </defs>\n    );\n  }\n}\n","import * as React from 'react';\nimport { Pattern } from '../templates/pattern';\n\n// Function is returned (not PureComponent descendant) because\n// result is invoked as function (not as React component).\nexport const withPattern = <T extends any>(\n  getPatternId: (props: T) => string, props: T,\n) => (Target: React.ComponentType<any>) => (targetProps: any) => {\n  const { color, ...restProps } = targetProps;\n  const patternId = getPatternId(targetProps);\n  return (\n    <React.Fragment>\n      <Target\n        color={`url(#${patternId})`}\n        {...restProps}\n      />\n      <Pattern\n        id={patternId}\n        color={color}\n        {...props}\n      />\n    </React.Fragment>\n  );\n};\n","import * as React from 'react';\nimport { Animation, isScalesChanged } from '@devexpress/dx-chart-core';\nimport { GetDelayFn, Scales, AnimatedComponent } from '../types';\n\nexport const withAnimation = <T extends AnimatedComponent>(\n    processAnimation: (start: T, end: T) => (progress: number) => any, getProps: (props: T) => any,\n    getStartCoordinates: (scales: Scales, props: T) => any,\n    isValuesChanged: (previous: T, current: T) => boolean,\n    getDelay?: GetDelayFn,\n) => (Component: React.ComponentType<T>): React.ComponentType<T> => {\n  class ComponentWithAnimation extends React.PureComponent<T, T> {\n    animate: Animation | undefined;\n    constructor(props) {\n      super(props);\n\n      this.setAttribute = this.setAttribute.bind(this);\n    }\n\n    setAttribute(state) {\n      this.setState(state);\n    }\n\n    componentDidMount() {\n      const {\n        animation, scales, index, readyToRenderSeries,\n      } = this.props;\n      if (!readyToRenderSeries) {\n        return;\n      }\n      const props = getProps(this.props);\n      this.processComponent(animation, { scales: {} }, scales, props, {}, index);\n    }\n\n    componentDidUpdate(prevProps) {\n      const {\n        scales, index, animation, readyToRenderSeries,\n      } = this.props;\n      if (!readyToRenderSeries) {\n        return;\n      }\n      this.processComponent(\n        animation, prevProps, scales, getProps(this.props),\n        getProps(prevProps), index,\n      );\n    }\n\n    processComponent(animation, { scales: prevScales }, scales, props, prevProps, index) {\n      if (!animation) {\n        this.setAttribute(props);\n      } else if (this.animate) {\n        if (isScalesChanged(prevScales, scales)) {\n          this.setAttribute(props);\n        } else if (isValuesChanged(prevProps, props)) {\n          const delay = getDelay ? getDelay(index, false) : 0;\n          this.animate.update(prevProps, props, delay);\n        }\n      } else {\n        this.animate = animation(\n          getStartCoordinates(scales, props), props,\n          processAnimation, this.setAttribute, getDelay && getDelay(index, true),\n        );\n      }\n    }\n\n    componentWillUnmount() {\n      return this.animate && this.animate.stop();\n    }\n\n    render() {\n      const { readyToRenderSeries, ...restProps } = this.props;\n      if (!this.state) {\n        return null;\n      }\n      return (\n        <Component {...restProps} {...this.state} />\n      );\n    }\n  }\n  return ComponentWithAnimation;\n};\n","import * as React from 'react';\nimport {\n  HOVERED, SELECTED, dArea, dRotateArea,\n  processAreaAnimation, getPathStart,\n  isCoordinatesChanged,\n} from '@devexpress/dx-chart-core';\nimport { withStates } from '../../utils/with-states';\nimport { withPattern } from '../../utils/with-pattern';\nimport { withAnimation } from '../../utils/with-animation';\nimport { AreaSeries } from '../../types';\n\nclass RawArea extends React.PureComponent<AreaSeries.SeriesProps> {\n  render() {\n    const {\n      path,\n      coordinates, animation,\n      index, state, pointComponent,\n      color, clipPathId, pane,\n      scales, rotated,\n      ...restProps\n    } = this.props;\n    const dPath = path === undefined ? (rotated ? dRotateArea : dArea) : path;\n    return (\n      <path\n        clipPath={`url(#${clipPathId})`}\n        d={dPath!(coordinates)}\n        fill={color}\n        opacity={0.5}\n        {...restProps}\n      />\n    );\n  }\n}\n\n// It should actually be `withPattern<AreaSeries.PointProps>` but `opacity` is not decleared there.\n// It is not clear if `opacity` should be explicitly enumerated or stay as part of `restProps`.\n\nexport const Area: React.ComponentType<AreaSeries.SeriesProps> = withAnimation<any>(\n  processAreaAnimation,\n  ({ coordinates }) => ({ coordinates }),\n  getPathStart,\n  isCoordinatesChanged,\n)(withStates({\n  [HOVERED]: withPattern<any>(\n    ({ index, color }) => `series-${index}-color-${color}-hover`, { opacity: 0.75 },\n  )(RawArea),\n  [SELECTED]: withPattern<any>(\n    ({ index, color }) => `series-${index}-color-${color}-selection`, { opacity: 0.5 },\n  )(RawArea),\n})(RawArea));\n","import * as React from 'react';\nimport {\n  getAreaPointTransformer as getPointTransformer, createAreaHitTester as createHitTester,\n} from '@devexpress/dx-chart-core';\nimport { declareSeries } from '../utils';\nimport { Area as Path } from '../templates/series/area';\nimport { AreaSeriesProps } from '../types';\n\n// tslint:disable-next-line: max-line-length\nexport const AreaSeries: React.ComponentType<AreaSeriesProps> = declareSeries<AreaSeriesProps>('AreaSeries', {\n  getPointTransformer,\n  createHitTester,\n  components: { Path },\n});\n","import * as React from 'react';\nimport { PathComponentProps } from '../../types';\n\n/** @internal */\nexport class PointCollection extends React.PureComponent<PathComponentProps> {\n  render() {\n    const {\n      pointComponent,\n      coordinates,\n      index,\n      state,\n      clipPathId,\n      ...restProps // restProps are used because of animation and scale\n    } = this.props;\n    const Point = pointComponent!;\n    return (coordinates.map(point => (\n      <Point\n        key={String(point.index)}\n        seriesIndex={index}\n        {...restProps}\n        {...point}\n      />\n    )));\n  }\n}\n","import * as React from 'react';\nimport {\n  processBarAnimation, HOVERED, SELECTED, dBar, getVisibility, adjustBarSize,\n  isValuesChanged, getPointStart,\n} from '@devexpress/dx-chart-core';\nimport { withStates } from '../../utils/with-states';\nimport { withPattern } from '../../utils/with-pattern';\nimport { withAnimation } from '../../utils/with-animation';\nimport { BarSeries } from '../../types';\n\nclass RawBar extends React.PureComponent<BarSeries.PointProps> {\n  render() {\n    const {\n      arg, val, startVal, barWidth, maxBarWidth, animation,\n      argument, value, seriesIndex, index, state, rotated,\n      color, pane,\n      scales,\n      ...restProps\n    } = this.props;\n    const width = barWidth * maxBarWidth;\n    const bar = dBar(arg, val, startVal, width, rotated);\n    const visibility = getVisibility(\n      pane, bar.x + bar.width / 2, bar.y + bar.height, bar.width, bar.height,\n    );\n    const adjustedBar = visibility === 'visible' ? adjustBarSize(bar, pane) : bar;\n    return (\n      <rect\n        {...adjustedBar}\n        fill={color}\n        visibility={visibility}\n        {...restProps}\n      />\n    );\n  }\n}\n\n// It should actually be `withPattern<BarSeries.PointProps>` but `opacity` is not decleared there.\n// It is not clear if `opacity` should be explicitly enumerated or stay as part of `restProps`.\n\nexport const Bar: React.ComponentType<BarSeries.PointProps> = withAnimation<any>(\n    processBarAnimation,\n    ({ arg, val, startVal }) => ({ arg, val, startVal }),\n    getPointStart,\n    isValuesChanged,\n    )(withStates({\n      [HOVERED]: withPattern<any>(\n    ({ seriesIndex, index, color }) =>\n      `series-${seriesIndex}-point-${index}-color-${color}-hover`, { opacity: 0.75 },\n    )(RawBar),\n      [SELECTED]: withPattern<any>(\n    ({ seriesIndex, index, color }) =>\n      `series-${seriesIndex}-point-${index}-color-${color}-selection`, { opacity: 0.5 },\n    )(RawBar),\n    })(RawBar));\n","import * as React from 'react';\nimport {\n  getBarPointTransformer as getPointTransformer,\n  createBarHitTester as createHitTester,\n} from '@devexpress/dx-chart-core';\nimport { declareSeries } from '../utils';\nimport { PointCollection as Path } from '../templates/series/point-collection';\nimport { Bar as Point } from '../templates/series/bar';\nimport { BarSeriesProps } from '../types';\n\n// tslint:disable-next-line: max-line-length\nexport const BarSeries: React.ComponentType<BarSeriesProps> = declareSeries<BarSeriesProps>('BarSeries', {\n  getPointTransformer,\n  createHitTester,\n  components: { Path, Point },\n});\n\nBarSeries.defaultProps = {\n  barWidth: 0.9,\n};\n","import * as React from 'react';\nimport {\n  processLineAnimation, HOVERED, SELECTED, isCoordinatesChanged, getPathStart,\n} from '@devexpress/dx-chart-core';\nimport { withStates } from '../../utils/with-states';\nimport { withAnimation } from '../../utils/with-animation';\nimport { PathComponentPathProps } from '../../types';\n\nclass RawPath extends React.PureComponent<PathComponentPathProps> {\n  render() {\n    const {\n      path, animation,\n      coordinates, rotated,\n      index, state, pointComponent,\n      color, clipPathId,\n      scales, pane,\n      ...restProps\n    } = this.props;\n    return (\n      <path\n        clipPath={`url(#${clipPathId})`}\n        d={path!(coordinates)}\n        fill=\"none\"\n        strokeWidth={2}\n        stroke={color}\n        {...restProps}\n      />\n    );\n  }\n}\n\nexport const Path = withAnimation<any>(\n  processLineAnimation,\n  ({ coordinates }) => ({ coordinates }),\n  getPathStart,\n  isCoordinatesChanged,\n)(withStates({\n  [HOVERED]: props => ({ strokeWidth: 4, ...props }),\n  [SELECTED]: props => ({ strokeWidth: 4, ...props }),\n})(RawPath));\n","import * as React from 'react';\nimport { dLine, dRotateLine } from '@devexpress/dx-chart-core';\nimport { Path } from './path';\nimport { LineSeries } from '../../types';\n\nexport class Line extends React.PureComponent<LineSeries.SeriesProps> {\n  render() {\n    const { rotated, path } = this.props;\n    const dPath = path === undefined ? (rotated ? dRotateLine : dLine) : path;\n    return <Path {...this.props} path={dPath} />;\n  }\n}\n","import * as React from 'react';\nimport {\n  getLinePointTransformer as getPointTransformer,\n  createLineHitTester as createHitTester,\n} from '@devexpress/dx-chart-core';\nimport { declareSeries } from '../utils';\nimport { Line as Path } from '../templates/series/line';\nimport { AreaSeriesProps } from '../types';\n\n// tslint:disable-next-line: max-line-length\nexport const LineSeries: React.ComponentType<AreaSeriesProps> = declareSeries<AreaSeriesProps>('LineSeries', {\n  getPointTransformer,\n  createHitTester,\n  components: { Path },\n});\n","import * as React from 'react';\nimport {\n  dPie, HOVERED, SELECTED, processPieAnimation, isValuesChanged, getDelay,\n  getPieStart,\n} from '@devexpress/dx-chart-core';\nimport { withStates } from '../../utils/with-states';\nimport { withPattern } from '../../utils/with-pattern';\nimport { withAnimation } from '../../utils/with-animation';\nimport { PieSeries } from '../../types';\n\nclass RawSlice extends React.PureComponent<PieSeries.PointProps> {\n  render() {\n    const {\n      arg, val, rotated,\n      argument, value, seriesIndex, index, state, maxRadius,\n      innerRadius, outerRadius, startAngle, endAngle,\n      color, animation, pane,\n      scales,\n      ...restProps\n    } = this.props;\n    return (\n      <g transform={`translate(${arg} ${val})`}>\n        <path\n          d={dPie(maxRadius, innerRadius, outerRadius,\n            startAngle, endAngle)}\n          fill={color}\n          stroke=\"none\"\n          {...restProps}\n        />\n      </g>\n    );\n  }\n}\n\n// It should actually be `withPattern<PieSeries.PointProps>` but `opacity` is not decleared there.\n// It is not clear if `opacity` should be explicitly enumerated or stay as part of `restProps`.\n\nexport const Slice: React.ComponentType<PieSeries.PointProps> = withAnimation<any>(\n  processPieAnimation,\n  ({ innerRadius, outerRadius, startAngle, endAngle }) =>\n  ({ innerRadius, outerRadius, startAngle, endAngle }),\n  getPieStart,\n  isValuesChanged,\n  getDelay,\n)(withStates({\n  [HOVERED]: withPattern<any>(\n    ({ seriesIndex, index, color }) =>\n    `series-${seriesIndex}-point-${index}-color-${color}-hover`, { opacity: 0.75 },\n  )(RawSlice),\n  [SELECTED]: withPattern<any>(\n    ({ seriesIndex, index, color }) =>\n    `series-${seriesIndex}-point-${index}-color-${color}-selection`, { opacity: 0.5 },\n  )(RawSlice),\n})(RawSlice));\n","import * as React from 'react';\nimport {\n  getPiePointTransformer as getPointTransformer,\n  createPieHitTester as createHitTester,\n} from '@devexpress/dx-chart-core';\nimport { declareSeries } from '../utils';\nimport { PointCollection as Path } from '../templates/series/point-collection';\nimport { Slice as Point } from '../templates/series/slice';\nimport { PieSeriesProps } from '../types';\n\n// tslint:disable-next-line: max-line-length\nexport const PieSeries: React.ComponentType<PieSeriesProps> = declareSeries<PieSeriesProps>('PieSeries', {\n  getPointTransformer,\n  createHitTester,\n  components: { Path, Point },\n});\n\nPieSeries.defaultProps = {\n  innerRadius: 0,\n  outerRadius: 1,\n};\n","import * as React from 'react';\nimport {\n  processPointAnimation, dSymbol, HOVERED, SELECTED, getVisibility,\n  isValuesChanged, getPointStart,\n} from '@devexpress/dx-chart-core';\nimport { withStates } from '../../utils/with-states';\nimport { withAnimation } from '../../utils/with-animation';\nimport { ScatterSeries } from '../../types';\n\nclass RawPoint extends React.PureComponent<ScatterSeries.PointProps> {\n  render() {\n    const {\n      arg, val, rotated, animation,\n      argument, value, seriesIndex, index, state,\n      point: pointOptions,\n      color, pane,\n      scales,\n      ...restProps\n    } = this.props;\n    const x = rotated ? val : arg;\n    const y = rotated ? arg : val;\n    const visibility = getVisibility(pane, x!, y!, 0, 0);\n    return (\n      <path\n        transform={`translate(${x} ${y})`}\n        d={dSymbol(pointOptions)}\n        fill={color}\n        visibility={visibility}\n        stroke=\"none\"\n        {...restProps}\n      />\n    );\n  }\n}\n\n// The expression is used to have 12 from 7 in default scenario\n// and to adjust hovered or selected size when custom *point.size* is defined.\nconst getAdjustedOptions = ({ size }) => ({ size: Math.round(size * 1.7) });\n\nexport const Point: React.ComponentType<ScatterSeries.PointProps> = withAnimation<any>(\n  processPointAnimation,\n  ({ arg, val }) => ({ arg, val }),\n  getPointStart,\n  isValuesChanged,\n)(withStates({\n  [HOVERED]: ({ color, point, ...restProps }) => ({\n    stroke: color,\n    strokeWidth: 4,\n    fill: 'none',\n    point: getAdjustedOptions(point),\n    ...restProps,\n  }),\n  [SELECTED]: ({ color, point, ...restProps }) => ({\n    stroke: color,\n    strokeWidth: 4,\n    fill: 'none',\n    point: getAdjustedOptions(point),\n    ...restProps,\n  }),\n})(RawPoint));\n","import * as React from 'react';\nimport {\n  getScatterPointTransformer as getPointTransformer,\n  createScatterHitTester as createHitTester,\n} from '@devexpress/dx-chart-core';\nimport { declareSeries } from '../utils';\nimport { PointCollection as Path } from '../templates/series/point-collection';\nimport { Point } from '../templates/series/point';\nimport { ScatterSeriesProps } from '../types';\n\n// tslint:disable-next-line: max-line-length\nexport const ScatterSeries: React.ComponentType<ScatterSeriesProps> = declareSeries<ScatterSeriesProps>('ScatterSeries', {\n  getPointTransformer,\n  createHitTester,\n  components: { Path, Point },\n});\n\nScatterSeries.defaultProps = {\n  point: { size: 7 },\n};\n","import * as React from 'react';\nimport { dSpline, dRotateSpline } from '@devexpress/dx-chart-core';\nimport { Path } from './path';\nimport { SplineSeries } from '../../types';\n\nexport class Spline extends React.PureComponent<SplineSeries.SeriesProps> {\n  render() {\n    const { rotated, path } = this.props;\n    const dPath = path === undefined ? (rotated ? dRotateSpline : dSpline) : path;\n    return <Path {...this.props} path={dPath} />;\n  }\n}\n","import * as React from 'react';\nimport {\n  getLinePointTransformer as getPointTransformer,\n  createSplineHitTester as createHitTester,\n} from '@devexpress/dx-chart-core';\nimport { declareSeries } from '../utils';\nimport { Spline as Path } from '../templates/series/spline';\nimport { AreaSeriesProps } from '../types';\n\n// tslint:disable-next-line: max-line-length\nexport const SplineSeries: React.ComponentType<AreaSeriesProps> = declareSeries<AreaSeriesProps>('SplineSeries', {\n  getPointTransformer,\n  createHitTester,\n  components: { Path },\n});\n","import * as React from 'react';\nimport { Axis } from '../../types';\n\nconst getOffset = (position: number) => (position >= 0 ? 0 : -position);\nconst getSize = (position: number, delta: number) => (position >= 0 ? position + delta : -position);\n\nexport class Root extends React.PureComponent<Axis.RootProps, Axis.RootState> {\n  ref = React.createRef<SVGGElement>();\n\n  constructor(props: Axis.RootProps) {\n    super(props);\n    this.state = {\n      x: 0, y: 0,\n    };\n    this.adjust = this.adjust.bind(this);\n  }\n\n  componentDidMount() {\n    this.setState(this.adjust);\n  }\n\n  componentDidUpdate() {\n    // *setState* is called unconditionally because PureComponent is expected to break the cycle.\n    this.setState(this.adjust);\n  }\n\n  // Since calculated state does not depend on current state non-callback version of *setState*\n  // might have been expected - it can't be done.\n  // Parent component (Axis) accesses its DOM content in *onSizeChange* handler. When\n  // this component is mounted parent is not yet - it crashes on DOM access.\n  // *setState* callback is invoked later then *componentDidMount* - by that time parent component\n  // is already mounted and can access its DOM.\n  // Because of it callback version of *setState* has to be used here.\n  // Can we rely on the fact that by the time of callback parent is mounted?\n  // For now we stick with it, but need to find a more solid solution.\n  adjust(_: Axis.RootState, { dx, dy, onSizeChange }: Axis.RootProps): Axis.RootState {\n    const bbox = this.ref.current!.getBBox();\n    const width = dx ? bbox.width : getSize(bbox.x, bbox.width);\n    const height = dy ? bbox.height : getSize(bbox.y, bbox.height);\n    const x = dx ? 0 : getOffset(bbox.x);\n    const y = dy ? 0 : getOffset(bbox.y);\n    onSizeChange({ width, height });\n    return { x, y };\n  }\n\n  render() {\n    const { children, onSizeChange, dx, dy, ...restProps } = this.props;\n    const { x, y } = this.state;\n    return (\n      <g\n        ref={this.ref}\n        transform={`translate(${x} ${y})`}\n        {...restProps}\n      >\n        {children}\n      </g>\n    );\n  }\n}\n","import * as React from 'react';\nimport { Axis } from '../../types';\n\nexport class Label extends React.PureComponent<Axis.LabelProps> {\n  render() {\n    const {\n      text, ...restProps\n    } = this.props;\n\n    return (\n      <text\n        {...restProps}\n      >\n        {text}\n      </text>\n    );\n  }\n}\n","import * as React from 'react';\nimport { Axis } from '../../types';\n\nexport class Line extends React.PureComponent<Axis.LineProps> {\n  render() {\n    const {\n      x1, x2, y1, y2, ...restProps\n    } = this.props;\n    return (\n      <path\n        d={`M ${x1} ${y1} L ${x2} ${y2}`}\n        {...restProps}\n      />\n    );\n  }\n}\n","import * as React from 'react';\nimport {\n  Plugin,\n  TemplateConnector,\n  Template,\n  TemplatePlaceholder,\n  withComponents,\n  PluginComponents,\n  onSizeChangeFn,\n  Getter,\n} from '@devexpress/dx-react-core';\nimport {\n  ARGUMENT_DOMAIN, getValueDomainName,\n  getRotatedPosition, isValidPosition,\n  LEFT, BOTTOM, getTickCoordinates, gridCoordinatesGetter, tickCoordinatesGetter,\n  Tick, Grid,\n} from '@devexpress/dx-chart-core';\nimport { RawAxisProps } from '../types';\nimport { Root } from '../templates/axis/root';\nimport { Label } from '../templates/axis/label';\nimport { Line } from '../templates/axis/line';\n\nimport { withPatchedProps } from '../utils';\n\nconst SVG_STYLE: React.CSSProperties = {\n  position: 'absolute', left: 0, top: 0, overflow: 'visible',\n};\n\nclass RawAxis extends React.PureComponent<RawAxisProps> {\n  static components: PluginComponents = {\n    rootComponent: 'Root',\n    tickComponent: 'Tick',\n    labelComponent: 'Label',\n    lineComponent: 'Line',\n    gridComponent: 'Grid',\n  };\n  static defaultProps: Partial<RawAxisProps> = {\n    tickSize: 5,\n    indentFromAxis: 10,\n  };\n\n  rootRef = React.createRef<HTMLDivElement>();\n  adjustedWidth = 0;\n  adjustedHeight = 0;\n\n  renderAxis(position: string) {\n    const {\n      scaleName,\n      tickSize,\n      tickFormat,\n      indentFromAxis,\n      showTicks,\n      showLine,\n      showLabels,\n      rootComponent: RootComponent,\n      tickComponent: TickComponent,\n      labelComponent: LabelComponent,\n      lineComponent: LineComponent,\n    } = this.props;\n    const placeholder = `${position}-axis`;\n    const layoutName = `${placeholder}-${scaleName}`;\n    return (\n      <Template name={placeholder}>\n        <TemplatePlaceholder />\n        <TemplateConnector>\n          {({ scales, layouts, rotated }, { changeBBox }) => {\n            if (!isValidPosition(position!, scaleName!, rotated)) {\n              return null;\n            }\n            const scale = scales[scaleName!];\n            if (!scale) {\n              return null;\n            }\n            const { width, height } = layouts[layoutName] || { width: 0, height: 0 };\n            const paneSize = layouts.pane;\n\n            const { sides: [dx, dy], ticks } = getTickCoordinates({\n              callback: tickCoordinatesGetter,\n              scaleName: scaleName!,\n              position: position!,\n              tickSize: tickSize!,\n              tickFormat,\n              indentFromAxis: indentFromAxis!,\n              scale,\n              paneSize: [paneSize.width, paneSize.height],\n              rotated,\n            });\n\n            const handleSizeChange: onSizeChangeFn = (size) => {\n              // The callback is called when DOM is available -\n              // *rootRef.current* can be surely accessed.\n              const rect = this.rootRef.current!.getBoundingClientRect();\n              const rectSize = [dx ? rect.width : size.width, dy ? rect.height : size.height];\n\n              if (rectSize[0] === this.adjustedWidth && rectSize[1] === this.adjustedHeight) {\n                return;\n              }\n              // *setState* is not used because it would cause excessive Plugin rerenders.\n              // Template rerender is provided by *changeBBox* invocation.\n              this.adjustedWidth = rectSize[0];\n              this.adjustedHeight = rectSize[1];\n              changeBBox({ placeholder: layoutName, bBox: size });\n            };\n\n            return (\n              <div\n                style={{\n                  position: 'relative',\n                  width: (dy * width) || undefined,\n                  height: (dx * height) || undefined,\n                  flexGrow: dx || undefined,\n                }}\n                ref={this.rootRef}\n              >\n                <svg\n                  width={this.adjustedWidth}\n                  height={this.adjustedHeight}\n                  style={SVG_STYLE}\n                >\n                  <RootComponent\n                    dx={dx}\n                    dy={dy}\n                    onSizeChange={handleSizeChange}\n                  >\n                    {showTicks && (ticks as Tick[]).map(({\n                      x1, x2, y1, y2, key,\n                    }) => (\n                      <TickComponent\n                        key={key}\n                        x1={x1}\n                        x2={x2}\n                        y1={y1}\n                        y2={y2}\n                      />\n                    ))}\n                    {showLine && (\n                      <LineComponent\n                        x1={0}\n                        x2={dx * paneSize.width}\n                        y1={0}\n                        y2={dy * paneSize.height}\n                      />\n                    )}\n                    {showLabels && (ticks as Tick[]).map(({\n                      text,\n                      xText,\n                      yText,\n                      dy: delta,\n                      textAnchor,\n                      key,\n                    }) => (\n                      <LabelComponent\n                        key={key}\n                        text={text}\n                        x={xText}\n                        y={yText}\n                        dy={delta}\n                        textAnchor={textAnchor}\n                      />\n                    ))}\n                  </RootComponent>\n                </svg>\n              </div>\n            );\n          }}\n        </TemplateConnector>\n      </Template>\n    );\n  }\n\n  renderGrid() {\n    const {\n      scaleName,\n      showGrid,\n      gridComponent: GridComponent,\n    } = this.props;\n    return (\n      <Template name=\"series\">\n        <TemplatePlaceholder />\n        <TemplateConnector>\n          {({ scales, layouts, rotated }) => {\n            const scale = scales[scaleName!];\n            if (!scale || !showGrid) {\n              return null;\n            }\n            const { width, height } = layouts.pane;\n            const { ticks, sides: [dx, dy] } = getTickCoordinates({\n              callback: gridCoordinatesGetter,\n              scaleName: scaleName!,\n              scale,\n              paneSize: [width, height],\n              rotated,\n            });\n            return ((\n              <React.Fragment>\n                {(ticks as Grid[]).map(({\n                  key, x1, y1,\n                }) => (\n                  <GridComponent\n                    key={key}\n                    x1={x1}\n                    x2={x1 + dy * width}\n                    y1={y1}\n                    y2={y1 + dx * height}\n                  />\n                ))}\n              </React.Fragment>\n            ));\n          }}\n        </TemplateConnector>\n      </Template>\n    );\n  }\n\n  render() {\n    const { position } = this.props;\n    const rotatedPosition = getRotatedPosition(position!);\n    // We have to occupy two placeholders (one for default case and one for rotated case) because\n    // by now it is unknown if Chart is rotated or not.\n    // Only one of templates is rendered then, the other is discarded.\n    return (\n      <Plugin name=\"Axis\">\n        <Getter name=\"axesExist\" value />\n        {this.renderAxis(position!)}\n        {this.renderAxis(rotatedPosition)}\n        {this.renderGrid()}\n      </Plugin>\n    );\n  }\n}\n/** @internal */\nexport const Axis: React.ComponentType<RawAxisProps> = withComponents({\n  Label,\n  Line,\n  Root,\n  Tick: Line,\n  Grid: Line,\n})(RawAxis);\n\n// TODO: It is not axis who defines that argument is HORIZONTAL and value is VERTICAL.\n\n// TODO: *position* should not be *orientation* dependent -\n// if HORIZONTAL then TOP or BOTTOM, otherwise LEFT of RIGHT.\n// It should be domain dependent - something like AT_DOMAIN_START or AT_DOMAIN_END.\n\nexport const ArgumentAxis: React.ComponentType<RawAxisProps> = withPatchedProps(props => ({\n  position: BOTTOM,\n  showGrid: false,\n  showTicks: true,\n  showLine: true,\n  showLabels: true,\n  ...props,\n  scaleName: ARGUMENT_DOMAIN,\n}))(Axis);\n\nexport const ValueAxis: React.ComponentType<RawAxisProps> = withPatchedProps(props => ({\n  position: LEFT,\n  showGrid: true,\n  showTicks: false,\n  showLine: false,\n  showLabels: true,\n  ...props,\n  scaleName: getValueDomainName((props as RawAxisProps).scaleName),\n}))(Axis);\n","import * as React from 'react';\nimport {\n  Plugin,\n  Getter,\n  TemplateConnector,\n  Template,\n  TemplatePlaceholder,\n  PluginComponents,\n} from '@devexpress/dx-react-core';\nimport { getParameters, processHandleTooltip, createReference } from '@devexpress/dx-chart-core';\nimport { TooltipProps, TooltipState, GetPointerMoveHandlersFn } from '../types';\n\nconst dependencies = [{ name: 'EventTracker', optional: true }];\n\nclass TooltipBase extends React.PureComponent<TooltipProps, TooltipState> {\n  static components: PluginComponents = {\n    overlayComponent: 'Overlay',\n    contentComponent: 'Content',\n    arrowComponent: 'Arrow',\n    sheetComponent: 'Sheet',\n  };\n  getPointerMoveHandlers: GetPointerMoveHandlersFn;\n\n  constructor(props: TooltipProps) {\n    super(props);\n    this.state = {\n      target: props.targetItem || props.defaultTargetItem,\n    };\n    const handlePointerMove = this.handlePointerMove.bind(this);\n    this.getPointerMoveHandlers = ({ pointerMoveHandlers = [] }) => [\n      ...pointerMoveHandlers, handlePointerMove,\n    ];\n  }\n\n  static getDerivedStateFromProps(props: TooltipProps, state: TooltipState): TooltipState {\n    return { target: props.targetItem !== undefined ? props.targetItem : state.target };\n  }\n\n  handlePointerMove({ targets }) {\n    this.setState((\n      { target: currentTarget },\n      { onTargetItemChange },\n    ) => {\n      const target = processHandleTooltip(targets, currentTarget!, onTargetItemChange);\n      if (target === undefined) {\n        return null;\n      }\n      return { target: target! };\n    });\n  }\n\n  render() {\n    const {\n      overlayComponent: OverlayComponent,\n      contentComponent: ContentComponent,\n      sheetComponent: SheetComponent,\n      arrowComponent,\n    } = this.props;\n    const { target } = this.state;\n    return (\n      <Plugin name=\"Tooltip\" dependencies={dependencies}>\n        <Getter name=\"pointerMoveHandlers\" computed={this.getPointerMoveHandlers} />\n        <Template name=\"series\">\n          <TemplatePlaceholder />\n          <TemplateConnector>\n            {({ series, rootRef, rotated }) => {\n              if (!target) {\n                return null;\n              }\n              const { text, element } = getParameters(series, target);\n              return (\n                <OverlayComponent\n                  key={`${target.series}${target.point}`}\n                  target={createReference(element, rootRef)}\n                  rotated={rotated}\n                  arrowComponent={arrowComponent}\n                >\n                  <SheetComponent>\n                    <ContentComponent text={text} targetItem={target} />\n                  </SheetComponent>\n                </OverlayComponent>\n              );\n            }}\n          </TemplateConnector>\n        </Template>\n      </Plugin>\n    );\n  }\n}\n\nexport const Tooltip: React.ComponentType<TooltipProps> = TooltipBase;\n","import * as React from 'react';\n\nimport { ZoomAndPan } from '../types';\n\nexport class DragBox extends React.PureComponent<ZoomAndPan.DragBoxProps> {\n  render() {\n    const {\n      rect, ...restProps\n    } = this.props;\n    return (\n      <rect\n        x={rect.x}\n        y={rect.y}\n        width={rect.width}\n        height={rect.height}\n        {...restProps}\n      />\n    );\n  }\n}\n","import * as React from 'react';\nimport {\n  Plugin,\n  TemplatePlaceholder,\n  Template,\n  TemplateConnector,\n  Getters,\n  Getter,\n  PluginComponents,\n  withComponents,\n  Size,\n  clearSelection,\n} from '@devexpress/dx-react-core';\nimport { DragBox } from '../templates/drag-box';\nimport {\n  adjustLayout, getViewport, isKeyPressed, getOffset, getDeltaForTouches, getRect,\n  ScalesCache, getWheelDelta, getEventCoords, isMultiTouch, attachEvents, detachEvents,\n  setCursorType,\n} from '@devexpress/dx-chart-core';\nimport {\n  ZoomAndPanProps, ZoomAndPanState, Location, NumberArray, ZoomPanProviderProps, EventHandlers,\n} from '../types';\n\nconst events = {\n  wheel: { func: 'onWheel' },\n  mousedown: {\n    func: 'onStart',\n    extraEvents: ['mousemove', 'mouseup'],\n  },\n  touchstart: {\n    func: 'onStart',\n    extraEvents: ['touchmove', 'touchend'],\n  },\n};\n\nclass ZoomPanProvider extends React.PureComponent<ZoomPanProviderProps> {\n  handlers!: EventHandlers;\n  svgElement!: SVGElement;\n  windowHandlers!: { [key: string]: EventHandlers};\n\n  componentDidMount() {\n    this.svgElement = this.props.rootRef.current!;\n    setCursorType(this.svgElement);\n\n    this.windowHandlers = Object.keys(events).reduce((prev, key) => {\n      const extraEvents = events[key].extraEvents;\n      if (extraEvents) {\n        return {\n          ...prev,\n          [key]: {\n            [extraEvents[0]]: (event: any) => {\n              this.props.onMove(event);\n            },\n            [extraEvents[1]]: (event: any) => {\n              this.props.onEnd(event);\n              setCursorType(this.svgElement);\n              detachEvents(window, this.windowHandlers[key]);\n            },\n          },\n        };\n      }\n      return prev;\n    }, {});\n\n    this.handlers = Object.keys(events).reduce((prev, key) => {\n      return {\n        ...prev,\n        [key]: (e: any) => {\n          this.props[events[key].func](e);\n          if (events[key].extraEvents) {\n            attachEvents(window, this.windowHandlers[key]);\n          }\n        },\n      };\n    }, {});\n    attachEvents(this.svgElement, this.handlers);\n  }\n\n  componentWillUnmount() {\n    detachEvents(this.svgElement, this.handlers);\n    Object.keys(this.windowHandlers).forEach((el) => {\n      detachEvents(window, this.windowHandlers[el]);\n    });\n  }\n\n  render() {\n    return null;\n  }\n}\n\n// tslint:disable-next-line:max-classes-per-file\nclass ZoomAndPanBase extends React.PureComponent<ZoomAndPanProps, ZoomAndPanState> {\n  static components: PluginComponents = {\n    dragBoxComponent: 'DragBox',\n  };\n  static defaultProps: Partial<ZoomAndPanProps> = {\n    interactionWithValues: 'none',\n    interactionWithArguments: 'both',\n    zoomRegionKey: 'shift',\n  };\n\n  multiTouchDelta: number | null = null;\n  lastCoordinates: Location | null = null;\n  rectOrigin: Location | null = null;\n  offset: NumberArray = [0, 0];\n\n  constructor(props: ZoomAndPanProps) {\n    super(props);\n\n    this.state = {\n      viewport: props.viewport || props.defaultViewport,\n      rectBox: null,\n    };\n  }\n\n  static getDerivedStateFromProps(props: ZoomAndPanProps, state: ZoomAndPanState): ZoomAndPanState {\n    return {\n      viewport: props.viewport !== undefined ? props.viewport : state.viewport,\n    };\n  }\n\n  handleStart(zoomRegionKey: string, e: any) {\n    // Default browser behavior is prevented in \"move\" handler. It is not enough for IPad.\n    // Calling \"preventDefault\" here (on \"start\") works for IPad.\n    // Going further, since we have to call \"preventDefault\" on \"start\" we may try to get rid of\n    // \"preventDefault\" on move.\n    // TODO: Try to remove \"preventDefault\" from \"move\" handler.\n    e.preventDefault();\n    this.offset = getOffset(e.currentTarget);\n    const coords = getEventCoords(e, this.offset);\n      // Rectangle mode should be canceled if \"zoomRegionKey\" is released during mouse movevent or\n      // not pressed when mouse is up. To do it access to \"event\" object is required in\n      // \"handleMove\" and \"handleEnd\".\n      // TODO: Provide rectangle mode canceling.\n    if (isKeyPressed(e, zoomRegionKey)) {\n      this.rectOrigin = coords;\n    } else {\n      setCursorType(e.currentTarget, 'grabbing');\n    }\n    if (isMultiTouch(e)) {\n      this.multiTouchDelta = getDeltaForTouches(e.touches).delta;\n    }\n    this.lastCoordinates = coords;\n  }\n\n  handleMove(scales: ScalesCache, rotated: boolean, e: any, pane: Size) {\n    e.preventDefault();\n    clearSelection();\n    if (isMultiTouch(e)) {\n      const current = getDeltaForTouches(e.touches);\n      this.zoom(scales, rotated, current.delta - this.multiTouchDelta!, current.center);\n      this.multiTouchDelta = current.delta;\n    } else {\n      this.scroll(scales, rotated, e, pane);\n    }\n  }\n\n  scroll(scales: ScalesCache, rotated: boolean, e: any, pane: Size) {\n    const coords = getEventCoords(e, this.offset);\n    const deltaX = coords[0] - this.lastCoordinates![0];\n    const deltaY = coords[1] - this.lastCoordinates![1];\n    this.lastCoordinates = coords;\n    this.setState((\n      { viewport }, { onViewportChange, interactionWithArguments, interactionWithValues },\n    ) => {\n      if (this.rectOrigin) {\n        return {\n          rectBox: getRect(\n            rotated,\n            interactionWithArguments!,\n            interactionWithValues!,\n            this.rectOrigin,\n            coords,\n            pane,\n          ),\n        };\n      }\n      return getViewport(\n        scales, rotated, [interactionWithArguments!, interactionWithValues!], 'pan',\n        [-deltaX, -deltaY], null, null, viewport, onViewportChange,\n      );\n    });\n  }\n\n  handleEnd(scales: ScalesCache, rotated: boolean) {\n    this.lastCoordinates = null;\n    this.multiTouchDelta = null;\n    if (this.rectOrigin) {\n      this.setState((\n        { viewport, rectBox },\n        { onViewportChange, interactionWithArguments, interactionWithValues },\n      ) => {\n        if (rectBox === null) return {};\n\n        this.rectOrigin = null;\n        return {\n          rectBox: null,\n          ...getViewport(\n            scales, rotated, [interactionWithArguments!, interactionWithValues!], 'zoom',\n            null,\n            null,\n            [\n              [rectBox!.x, rectBox!.x + rectBox!.width],\n              [rectBox!.y, rectBox!.y + rectBox!.height],\n            ],\n            viewport, onViewportChange,\n          ),\n        };\n      });\n    }\n  }\n\n  zoom(scales: ScalesCache, rotated: boolean, delta: number, anchors: Location) {\n    this.setState((\n      { viewport }, { onViewportChange, interactionWithArguments, interactionWithValues },\n    ) => {\n      return getViewport(\n        scales, rotated, [interactionWithArguments!, interactionWithValues!], 'zoom',\n        [delta, delta], anchors, null, viewport, onViewportChange,\n      );\n    });\n  }\n\n  handleZoom(scales: ScalesCache, rotated: boolean, e: any) {\n    e.preventDefault();\n    const center = getEventCoords(e, getOffset(e.currentTarget));\n    this.zoom(scales, rotated, getWheelDelta(e), center);\n  }\n\n  render() {\n    const { viewport, rectBox } = this.state;\n    const {\n      dragBoxComponent: DragBoxComponent,\n      zoomRegionKey,\n     } = this.props;\n    const getAdjustedLayout = ({\n      domains,\n      ranges,\n    }: Getters) => adjustLayout(domains, ranges, viewport);\n    return (\n      <Plugin name=\"zoomAndPan\">\n      <Getter name=\"ranges\" computed={getAdjustedLayout} />\n        <Template name=\"root\">\n        <TemplatePlaceholder />\n          <TemplateConnector>\n            {({ scales, rotated, rootRef, layouts }) => (\n                <ZoomPanProvider\n                  rootRef={rootRef}\n                  onWheel={e => this.handleZoom(scales, rotated, e)}\n                  onStart={e => this.handleStart(zoomRegionKey!, e)}\n                  onMove={e => this.handleMove(scales, rotated, e, layouts.pane)}\n                  onEnd={e => this.handleEnd(scales, rotated)}\n                />\n              )}\n          </TemplateConnector>\n        </Template>\n        <Template name=\"series\">\n          <TemplatePlaceholder />\n          {rectBox ? (\n              <DragBoxComponent\n                rect={rectBox!}\n              />\n          ) : null}\n        </Template>\n      </Plugin>\n    );\n  }\n}\n\nexport const ZoomAndPan: React.ComponentType<\n  ZoomAndPanProps\n> =  withComponents({ DragBox })(ZoomAndPanBase);\n","import * as React from 'react';\nimport {\n  Plugin,\n  Template,\n  Getter,\n  TemplatePlaceholder,\n  TemplateConnector,\n} from '@devexpress/dx-react-core';\nimport { buildEventHandlers } from '@devexpress/dx-chart-core';\nimport { EventTrackerProps, HandlerFn, EventHandlers } from '../types';\n\nconst wrapToList = (arg?: HandlerFn) => (arg ? [arg] : []);\n\nconst EVENT_NAME_TO_REACT_MAP = {\n  click: 'onClick',\n  mousemove: 'onMouseMove',\n  mouseleave: 'onMouseLeave',\n  touchstart: 'onTouchStart',\n};\n\n// Translates event names from common space to React.\n// https://developer.mozilla.org/en-US/docs/Web/Events\nconst translateEventNames = (handlers: EventHandlers) => {\n  const result = {};\n  Object.entries(handlers).forEach(([name, handler]) => {\n    result[EVENT_NAME_TO_REACT_MAP[name]] = handler;\n  });\n  return result;\n};\n\nclass EventTrackerBase extends React.PureComponent<EventTrackerProps> {\n  render() {\n    const { onClick, onPointerMove } = this.props;\n    return (\n      <Plugin name=\"EventTracker\">\n        <Getter name=\"clickHandlers\" value={wrapToList(onClick)} />\n        <Getter name=\"pointerMoveHandlers\" value={wrapToList(onPointerMove)} />\n        <Template name=\"canvas\">\n          {params => (\n            <TemplateConnector>\n              {({ series, clickHandlers, pointerMoveHandlers }) => {\n                const handlers = buildEventHandlers(series, { clickHandlers, pointerMoveHandlers });\n                // TODO: Conflicts are still possible. Improve this code.\n                return (\n                  <TemplatePlaceholder params={{ ...params, ...translateEventNames(handlers) }} />\n                );\n              }}\n            </TemplateConnector>\n          )}\n        </Template>\n      </Plugin>\n    );\n  }\n}\n\nexport const EventTracker: React.ComponentType<EventTrackerProps> = EventTrackerBase;\n","import * as React from 'react';\nimport {\n  Plugin,\n  Getter,\n  Getters,\n} from '@devexpress/dx-react-core';\nimport {\n  changeSeriesState, processPointerMove, HOVERED, TargetData,\n} from '@devexpress/dx-chart-core';\nimport { HoverStateProps, HoverStateState, GetPointerMoveHandlersFn } from '../types';\n\nconst dependencies = [{ name: 'EventTracker', optional: true }];\n\nclass HoverStateBase extends React.PureComponent<HoverStateProps, HoverStateState> {\n  getPointerMoveHandlers: GetPointerMoveHandlersFn;\n\n  constructor(props: HoverStateProps) {\n    super(props);\n    this.state = {\n      hover: props.hover || props.defaultHover,\n    };\n    const handlePointerMove = this.handlePointerMove.bind(this);\n    this.getPointerMoveHandlers = ({ pointerMoveHandlers = [] }) => [\n      ...pointerMoveHandlers, handlePointerMove,\n    ];\n  }\n\n  static getDerivedStateFromProps(props: HoverStateProps, state: HoverStateState): HoverStateState {\n    return { hover: props.hover !== undefined ? props.hover : state.hover };\n  }\n\n  handlePointerMove({ targets }: TargetData) {\n    this.setState(({ hover: currentTarget }, { onHoverChange }) => {\n      const hover = processPointerMove(targets, currentTarget!, onHoverChange);\n      return hover !== undefined ? { hover: hover! } : null;\n    });\n  }\n\n  render() {\n    const { hover } = this.state;\n    // Function has to be recreated every time as there is no other way\n    // to notify that \"series\" is updated.\n    const targets = hover ? [hover] : [];\n    const getSeries = ({ series }: Getters) => changeSeriesState(series, targets, HOVERED);\n    return (\n      <Plugin name=\"HoverState\" dependencies={dependencies}>\n        <Getter name=\"pointerMoveHandlers\" computed={this.getPointerMoveHandlers} />\n        <Getter name=\"series\" computed={getSeries} />\n      </Plugin>\n    );\n  }\n}\n\nexport const HoverState: React.ComponentType<HoverStateProps> = HoverStateBase;\n","import * as React from 'react';\nimport {\n  Plugin,\n  Getter,\n  Getters,\n} from '@devexpress/dx-react-core';\nimport { changeSeriesState, SELECTED } from '@devexpress/dx-chart-core';\nimport { SelectionStateProps } from '../types';\n\nclass SelectionStateBase extends React.PureComponent<SelectionStateProps> {\n  render() {\n    const { selection } = this.props;\n    const targets = selection || [];\n    const getSeries = ({ series }: Getters) => changeSeriesState(series, targets, SELECTED);\n    return (\n      <Plugin name=\"SelectionState\">\n        <Getter name=\"series\" computed={getSeries} />\n      </Plugin>\n    );\n  }\n}\n\nexport const SelectionState: React.ComponentType<SelectionStateProps> = SelectionStateBase;\n"]},"metadata":{},"sourceType":"module"}